{"version":3,"file":"Capsule.stories-CNa2Jm_X.js","sources":["../../src/components/Capsule.stories.tsx"],"sourcesContent":["import type { Meta, StoryObj } from \"@storybook/react\";\nimport { within, expect } from \"@storybook/test\";\nimport { Capsule } from \"./Capsule\";\n\nconst meta = {\n  title: \"Components/Capsule\",\n  component: Capsule,\n  parameters: {\n    layout: \"centered\",\n  },\n  tags: [\"autodocs\"],\n  argTypes: {\n    color: {\n      control: \"color\",\n      description: \"The color of the capsule top half\",\n    },\n    isOpen: {\n      control: \"boolean\",\n      description: \"Whether the capsule is open or closed\",\n    },\n  },\n} satisfies Meta<typeof Capsule>;\n\nexport default meta;\ntype Story = StoryObj<typeof meta>;\n\n// Default closed capsule - Red\nexport const Closed: Story = {\n  args: {\n    color: \"#ef4444\",\n    isOpen: false,\n  },\n};\n\n// Open capsule showing paper scroll\nexport const Open: Story = {\n  args: {\n    color: \"#ef4444\",\n    isOpen: true,\n  },\n};\n\n// Different colors\nexport const YellowCapsule: Story = {\n  args: {\n    color: \"#eab308\",\n    isOpen: false,\n  },\n};\n\nexport const BlueCapsule: Story = {\n  args: {\n    color: \"#3b82f6\",\n    isOpen: false,\n  },\n};\n\nexport const GreenCapsule: Story = {\n  args: {\n    color: \"#22c55e\",\n    isOpen: false,\n  },\n};\n\nexport const PurpleCapsule: Story = {\n  args: {\n    color: \"#a855f7\",\n    isOpen: false,\n  },\n};\n\nexport const PinkCapsule: Story = {\n  args: {\n    color: \"#ec4899\",\n    isOpen: false,\n  },\n};\n\nexport const OrangeCapsule: Story = {\n  args: {\n    color: \"#f97316\",\n    isOpen: false,\n  },\n};\n\n// All capsule colors showcase\nexport const AllColors: Story = {\n  args: {\n    color: \"#ef4444\",\n    isOpen: false,\n  },\n  render: () => (\n    <div className=\"flex gap-4 flex-wrap\">\n      {[\n        \"#ef4444\",\n        \"#eab308\",\n        \"#3b82f6\",\n        \"#22c55e\",\n        \"#a855f7\",\n        \"#ec4899\",\n        \"#f97316\",\n      ].map((color) => (\n        <Capsule key={color} color={color} isOpen={false} />\n      ))}\n    </div>\n  ),\n};\n\n// Interactive test - verify capsule renders correctly\nexport const InteractionTestClosed: Story = {\n  args: {\n    color: \"#ef4444\",\n    isOpen: false,\n  },\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n\n    // Verify the capsule container exists\n    const capsuleContainer = canvasElement.querySelector(\".relative.w-20.h-20\");\n    await expect(capsuleContainer).toBeInTheDocument();\n\n    // Verify there's no open state (paper scroll should not be visible with opacity 1)\n    const paperScroll = canvasElement.querySelector(\n      '[class*=\"bg-\\\\[\\\\#fff1f1\\\\]\"]'\n    );\n    if (paperScroll) {\n      const style = window.getComputedStyle(paperScroll);\n      await expect(style.opacity).toBe(\"0\");\n    }\n  },\n};\n\n// Interactive test - verify open capsule shows paper\nexport const InteractionTestOpen: Story = {\n  args: {\n    color: \"#3b82f6\",\n    isOpen: true,\n  },\n  play: async ({ canvasElement }) => {\n    const canvas = within(canvasElement);\n\n    // Verify the capsule container exists\n    const capsuleContainer = canvasElement.querySelector(\".relative.w-20.h-20\");\n    await expect(capsuleContainer).toBeInTheDocument();\n\n    // Verify paper scroll is visible when open\n    const paperScroll = canvasElement.querySelector(\n      '[class*=\"bg-\\\\[\\\\#fff1f1\\\\]\"]'\n    );\n    if (paperScroll) {\n      const style = window.getComputedStyle(paperScroll);\n      await expect(style.opacity).toBe(\"1\");\n    }\n  },\n};\n\n// Interactive test - verify capsule halves have animation classes\nexport const InteractionTestAnimationClasses: Story = {\n  args: {\n    color: \"#ef4444\",\n    isOpen: false,\n  },\n  play: async ({ canvasElement }) => {\n    // Verify the top half has transition classes\n    const topHalf = canvasElement.querySelector(\".rounded-t-full\");\n    await expect(topHalf).toBeInTheDocument();\n    await expect(topHalf).toHaveClass(\"transition-all\");\n    await expect(topHalf).toHaveClass(\"duration-700\");\n\n    // Verify the bottom half has transition classes\n    const bottomHalf = canvasElement.querySelector(\".rounded-b-full\");\n    await expect(bottomHalf).toBeInTheDocument();\n    await expect(bottomHalf).toHaveClass(\"transition-all\");\n    await expect(bottomHalf).toHaveClass(\"duration-700\");\n  },\n};\n\n// Interactive test - verify open state transforms\nexport const InteractionTestOpenTransforms: Story = {\n  args: {\n    color: \"#a855f7\",\n    isOpen: true,\n  },\n  play: async ({ canvasElement }) => {\n    // Wait for animation to settle\n    await new Promise((resolve) => setTimeout(resolve, 800));\n\n    // Verify top half has transformed (opacity should be 0 after animation)\n    const topHalf = canvasElement.querySelector(\n      \".rounded-t-full\"\n    ) as HTMLElement;\n    if (topHalf) {\n      const style = window.getComputedStyle(topHalf);\n      // The transform should include translate and rotate\n      await expect(style.transform).not.toBe(\"none\");\n    }\n\n    // Verify bottom half has transformed\n    const bottomHalf = canvasElement.querySelector(\n      \".rounded-b-full\"\n    ) as HTMLElement;\n    if (bottomHalf) {\n      const style = window.getComputedStyle(bottomHalf);\n      await expect(style.transform).not.toBe(\"none\");\n    }\n\n    // Verify paper scroll is visible\n    const paperScroll = canvasElement.querySelector(\n      '[class*=\"bg-\\\\[\\\\#fff1f1\\\\]\"]'\n    ) as HTMLElement;\n    if (paperScroll) {\n      const style = window.getComputedStyle(paperScroll);\n      await expect(style.opacity).toBe(\"1\");\n    }\n  },\n};\n"],"names":["meta","title","component","Capsule","parameters","layout","tags","argTypes","color","control","description","isOpen","Closed","args","Open","YellowCapsule","BlueCapsule","GreenCapsule","PurpleCapsule","PinkCapsule","OrangeCapsule","AllColors","render","jsx","map","InteractionTestClosed","play","canvasElement","within","capsuleContainer","querySelector","expect","toBeInTheDocument","paperScroll","style","window","getComputedStyle","opacity","toBe","InteractionTestOpen","InteractionTestAnimationClasses","topHalf","toHaveClass","bottomHalf","InteractionTestOpenTransforms","Promise","resolve","setTimeout","transform","not","docs","source","originalSource"],"mappings":"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"}