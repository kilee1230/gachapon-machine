import{j as e}from"./jsx-runtime-D_zvdyIk.js";import{f as A,w as C,e as s,u as P}from"./index-DPYJpPba.js";import{r as h}from"./index-CC6F48bw.js";import{C as be}from"./Capsule-vd6y8iEM.js";function n(){var t="/home/runner/work/gachapon-machine/gachapon-machine/src/components/GachaponMachine.tsx",l="7c1f6a8cc3ccbc8e7cea69e7d0a378053d3972e2",a=window,o="__coverage__",c={path:"/home/runner/work/gachapon-machine/gachapon-machine/src/components/GachaponMachine.tsx",statementMap:{0:{start:{line:4,column:15},end:{line:21,column:1}},1:{start:{line:22,column:31},end:{line:278,column:1}},2:{start:{line:32,column:21},end:{line:32,column:45}},3:{start:{line:33,column:18},end:{line:33,column:39}},4:{start:{line:34,column:20},end:{line:34,column:43}},5:{start:{line:35,column:22},end:{line:35,column:47}},6:{start:{line:36,column:18},end:{line:36,column:38}},7:{start:{line:37,column:15},end:{line:37,column:31}},8:{start:{line:38,column:22},end:{line:38,column:34}},9:{start:{line:39,column:46},end:{line:39,column:58}},10:{start:{line:40,column:27},end:{line:61,column:3}},11:{start:{line:41,column:24},end:{line:41,column:44}},12:{start:{line:42,column:4},end:{line:60,column:8}},13:{start:{line:42,column:62},end:{line:60,column:5}},14:{start:{line:62,column:2},end:{line:64,column:9}},15:{start:{line:63,column:4},end:{line:63,column:56}},16:{start:{line:65,column:2},end:{line:104,column:19}},17:{start:{line:67,column:4},end:{line:100,column:5}},18:{start:{line:68,column:23},end:{line:68,column:24}},19:{start:{line:69,column:29},end:{line:69,column:31}},20:{start:{line:70,column:22},end:{line:86,column:7}},21:{start:{line:71,column:8},end:{line:84,column:9}},22:{start:{line:72,column:10},end:{line:72,column:33}},23:{start:{line:73,column:10},end:{line:83,column:12}},24:{start:{line:74,column:22},end:{line:82,column:15}},25:{start:{line:74,column:41},end:{line:82,column:13}},26:{start:{line:85,column:8},end:{line:85,column:53}},27:{start:{line:87,column:6},end:{line:87,column:51}},28:{start:{line:89,column:6},end:{line:99,column:9}},29:{start:{line:90,column:8},end:{line:90,column:43}},30:{start:{line:90,column:31},end:{line:90,column:43}},31:{start:{line:91,column:8},end:{line:98,column:12}},32:{start:{line:91,column:34},end:{line:98,column:9}},33:{start:{line:101,column:4},end:{line:103,column:6}},34:{start:{line:102,column:6},end:{line:102,column:57}},35:{start:{line:102,column:23},end:{line:102,column:57}},36:{start:{line:105,column:48},end:{line:105,column:62}},37:{start:{line:106,column:2},end:{line:113,column:19}},38:{start:{line:107,column:4},end:{line:112,column:5}},39:{start:{line:108,column:28},end:{line:108,column:77}},40:{start:{line:109,column:26},end:{line:109,column:61}},41:{start:{line:110,column:6},end:{line:110,column:40}},42:{start:{line:111,column:6},end:{line:111,column:40}},43:{start:{line:114,column:2},end:{line:127,column:36}},44:{start:{line:115,column:4},end:{line:126,column:5}},45:{start:{line:116,column:20},end:{line:124,column:13}},46:{start:{line:117,column:8},end:{line:122,column:11}},47:{start:{line:118,column:10},end:{line:118,column:45}},48:{start:{line:118,column:33},end:{line:118,column:45}},49:{start:{line:119,column:26},end:{line:119,column:35}},50:{start:{line:120,column:10},end:{line:120,column:45}},51:{start:{line:121,column:10},end:{line:121,column:25}},52:{start:{line:123,column:8},end:{line:123,column:33}},53:{start:{line:125,column:6},end:{line:125,column:39}},54:{start:{line:125,column:19},end:{line:125,column:38}},55:{start:{line:128,column:27},end:{line:130,column:3}},56:{start:{line:129,column:4},end:{line:129,column:47}},57:{start:{line:131,column:25},end:{line:139,column:3}},58:{start:{line:132,column:4},end:{line:132,column:45}},59:{start:{line:132,column:38},end:{line:132,column:45}},60:{start:{line:133,column:22},end:{line:133,column:49}},61:{start:{line:134,column:18},end:{line:134,column:49}},62:{start:{line:135,column:4},end:{line:137,column:5}},63:{start:{line:136,column:6},end:{line:136,column:22}},64:{start:{line:138,column:4},end:{line:138,column:31}},65:{start:{line:140,column:2},end:{line:277,column:7}},66:{start:{line:159,column:78},end:{line:180,column:13}},67:{start:{line:280,column:0},end:{line:280,column:2093}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:22,column:31},end:{line:22,column:32}},loc:{start:{line:31,column:6},end:{line:278,column:1}},line:31},1:{name:"(anonymous_1)",decl:{start:{line:40,column:27},end:{line:40,column:28}},loc:{start:{line:40,column:38},end:{line:61,column:3}},line:40},2:{name:"(anonymous_2)",decl:{start:{line:42,column:51},end:{line:42,column:52}},loc:{start:{line:42,column:62},end:{line:60,column:5}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:62,column:12},end:{line:62,column:13}},loc:{start:{line:62,column:18},end:{line:64,column:3}},line:62},4:{name:"(anonymous_4)",decl:{start:{line:65,column:12},end:{line:65,column:13}},loc:{start:{line:65,column:18},end:{line:104,column:3}},line:65},5:{name:"(anonymous_5)",decl:{start:{line:70,column:22},end:{line:70,column:23}},loc:{start:{line:70,column:37},end:{line:86,column:7}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:74,column:12},end:{line:74,column:13}},loc:{start:{line:74,column:22},end:{line:82,column:15}},line:74},7:{name:"(anonymous_7)",decl:{start:{line:74,column:31},end:{line:74,column:32}},loc:{start:{line:74,column:41},end:{line:82,column:13}},line:74},8:{name:"(anonymous_8)",decl:{start:{line:89,column:24},end:{line:89,column:25}},loc:{start:{line:89,column:34},end:{line:99,column:7}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:91,column:24},end:{line:91,column:25}},loc:{start:{line:91,column:34},end:{line:98,column:9}},line:91},10:{name:"(anonymous_10)",decl:{start:{line:101,column:11},end:{line:101,column:12}},loc:{start:{line:101,column:17},end:{line:103,column:5}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:106,column:12},end:{line:106,column:13}},loc:{start:{line:106,column:18},end:{line:113,column:3}},line:106},12:{name:"(anonymous_12)",decl:{start:{line:114,column:12},end:{line:114,column:13}},loc:{start:{line:114,column:18},end:{line:127,column:3}},line:114},13:{name:"(anonymous_13)",decl:{start:{line:116,column:31},end:{line:116,column:32}},loc:{start:{line:116,column:37},end:{line:124,column:7}},line:116},14:{name:"(anonymous_14)",decl:{start:{line:117,column:26},end:{line:117,column:27}},loc:{start:{line:117,column:36},end:{line:122,column:9}},line:117},15:{name:"(anonymous_15)",decl:{start:{line:125,column:13},end:{line:125,column:14}},loc:{start:{line:125,column:19},end:{line:125,column:38}},line:125},16:{name:"(anonymous_16)",decl:{start:{line:128,column:27},end:{line:128,column:28}},loc:{start:{line:128,column:34},end:{line:130,column:3}},line:128},17:{name:"(anonymous_17)",decl:{start:{line:131,column:25},end:{line:131,column:26}},loc:{start:{line:131,column:32},end:{line:139,column:3}},line:131},18:{name:"(anonymous_18)",decl:{start:{line:159,column:53},end:{line:159,column:54}},loc:{start:{line:159,column:78},end:{line:180,column:13}},line:159}},branchMap:{0:{loc:{start:{line:67,column:4},end:{line:100,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:100,column:5}},{start:{line:88,column:11},end:{line:100,column:5}}],line:67},1:{loc:{start:{line:71,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:71,column:8},end:{line:84,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},2:{loc:{start:{line:90,column:8},end:{line:90,column:43}},type:"if",locations:[{start:{line:90,column:8},end:{line:90,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},3:{loc:{start:{line:102,column:6},end:{line:102,column:57}},type:"if",locations:[{start:{line:102,column:6},end:{line:102,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:102},4:{loc:{start:{line:107,column:4},end:{line:112,column:5}},type:"if",locations:[{start:{line:107,column:4},end:{line:112,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:107},5:{loc:{start:{line:107,column:8},end:{line:107,column:47}},type:"binary-expr",locations:[{start:{line:107,column:8},end:{line:107,column:18}},{start:{line:107,column:22},end:{line:107,column:47}}],line:107},6:{loc:{start:{line:115,column:4},end:{line:126,column:5}},type:"if",locations:[{start:{line:115,column:4},end:{line:126,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:115},7:{loc:{start:{line:115,column:8},end:{line:115,column:46}},type:"binary-expr",locations:[{start:{line:115,column:8},end:{line:115,column:18}},{start:{line:115,column:22},end:{line:115,column:46}}],line:115},8:{loc:{start:{line:118,column:10},end:{line:118,column:45}},type:"if",locations:[{start:{line:118,column:10},end:{line:118,column:45}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:118},9:{loc:{start:{line:132,column:4},end:{line:132,column:45}},type:"if",locations:[{start:{line:132,column:4},end:{line:132,column:45}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:132},10:{loc:{start:{line:135,column:4},end:{line:137,column:5}},type:"if",locations:[{start:{line:135,column:4},end:{line:137,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:135},11:{loc:{start:{line:151,column:10},end:{line:151,column:74}},type:"cond-expr",locations:[{start:{line:151,column:23},end:{line:151,column:69}},{start:{line:151,column:72},end:{line:151,column:74}}],line:151},12:{loc:{start:{line:159,column:12},end:{line:180,column:14}},type:"binary-expr",locations:[{start:{line:159,column:12},end:{line:159,column:30}},{start:{line:159,column:34},end:{line:180,column:14}}],line:159},13:{loc:{start:{line:168,column:30},end:{line:168,column:116}},type:"cond-expr",locations:[{start:{line:168,column:43},end:{line:168,column:49}},{start:{line:168,column:52},end:{line:168,column:116}}],line:168},14:{loc:{start:{line:181,column:12},end:{line:184,column:16}},type:"binary-expr",locations:[{start:{line:181,column:12},end:{line:181,column:22}},{start:{line:181,column:42},end:{line:184,column:16}}],line:181},15:{loc:{start:{line:185,column:12},end:{line:185,column:198}},type:"binary-expr",locations:[{start:{line:185,column:12},end:{line:185,column:19}},{start:{line:185,column:39},end:{line:185,column:198}}],line:185},16:{loc:{start:{line:191,column:16},end:{line:194,column:23}},type:"binary-expr",locations:[{start:{line:191,column:16},end:{line:191,column:36}},{start:{line:191,column:40},end:{line:191,column:48}},{start:{line:191,column:68},end:{line:194,column:23}}],line:191},17:{loc:{start:{line:199,column:30},end:{line:199,column:61}},type:"binary-expr",locations:[{start:{line:199,column:30},end:{line:199,column:50}},{start:{line:199,column:54},end:{line:199,column:61}}],line:199},18:{loc:{start:{line:204,column:22},end:{line:204,column:185}},type:"cond-expr",locations:[{start:{line:204,column:57},end:{line:204,column:151}},{start:{line:204,column:154},end:{line:204,column:185}}],line:204},19:{loc:{start:{line:204,column:22},end:{line:204,column:54}},type:"binary-expr",locations:[{start:{line:204,column:22},end:{line:204,column:42}},{start:{line:204,column:46},end:{line:204,column:54}}],line:204},20:{loc:{start:{line:209,column:16},end:{line:215,column:20}},type:"binary-expr",locations:[{start:{line:209,column:16},end:{line:209,column:27}},{start:{line:209,column:47},end:{line:215,column:20}}],line:209},21:{loc:{start:{line:230,column:18},end:{line:230,column:138}},type:"cond-expr",locations:[{start:{line:230,column:28},end:{line:230,column:81}},{start:{line:230,column:84},end:{line:230,column:138}}],line:230},22:{loc:{start:{line:233,column:31},end:{line:233,column:77}},type:"cond-expr",locations:[{start:{line:233,column:44},end:{line:233,column:60}},{start:{line:233,column:63},end:{line:233,column:77}}],line:233},23:{loc:{start:{line:242,column:14},end:{line:242,column:210}},type:"binary-expr",locations:[{start:{line:242,column:14},end:{line:242,column:21}},{start:{line:242,column:41},end:{line:242,column:210}}],line:242},24:{loc:{start:{line:252,column:269},end:{line:276,column:8}},type:"binary-expr",locations:[{start:{line:252,column:270},end:{line:252,column:279}},{start:{line:252,column:283},end:{line:252,column:306}},{start:{line:252,column:327},end:{line:276,column:8}}],line:252},25:{loc:{start:{line:256,column:19},end:{line:256,column:53}},type:"cond-expr",locations:[{start:{line:256,column:31},end:{line:256,column:44}},{start:{line:256,column:47},end:{line:256,column:53}}],line:256},26:{loc:{start:{line:257,column:24},end:{line:257,column:61}},type:"cond-expr",locations:[{start:{line:257,column:36},end:{line:257,column:52}},{start:{line:257,column:55},end:{line:257,column:61}}],line:257},27:{loc:{start:{line:258,column:22},end:{line:258,column:57}},type:"cond-expr",locations:[{start:{line:258,column:34},end:{line:258,column:48}},{start:{line:258,column:51},end:{line:258,column:57}}],line:258},28:{loc:{start:{line:262,column:20},end:{line:262,column:104}},type:"cond-expr",locations:[{start:{line:262,column:32},end:{line:262,column:99}},{start:{line:262,column:102},end:{line:262,column:104}}],line:262},29:{loc:{start:{line:275,column:6},end:{line:275,column:270}},type:"binary-expr",locations:[{start:{line:275,column:6},end:{line:275,column:15}},{start:{line:275,column:35},end:{line:275,column:270}}],line:275}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0,0],25:[0,0],26:[0,0],27:[0,0],28:[0,0],29:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/gachapon-machine/gachapon-machine/src/components/GachaponMachine.tsx"],names:[],mappings:"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"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"7c1f6a8cc3ccbc8e7cea69e7d0a378053d3972e2"},r=a[o]||(a[o]={});(!r[t]||r[t].hash!==l)&&(r[t]=c);var g=r[t];return n=function(){return g},g}n();const fe=(n().s[0]++,{zh:{coinSlot:"æŠ•å¸å£",spin:"ç‚¹å‡»æ—‹è½¬",exit:"å–è›‹å£",soldOut:"å·²å”®ç½„",open:"ç‚¹å‡»æˆ–ä¸‹æ»‘æ‰“å¼€",start:"ç‚¹å‡»æŠ•å¸"},en:{coinSlot:"INSERT",spin:"SPIN",exit:"EXIT",soldOut:"EMPTY",open:"CLICK OR SWIPE DOWN",start:"START HERE"}});n().s[1]++;const ue=({gameState:t,onInsertCoin:l,onSpin:a,onOpenCapsule:o,capsuleColor:c,onCapsuleColorPicked:r,remainingCount:g,language:de})=>{n().f[0]++;const m=(n().s[2]++,t==="spinning"),L=(n().s[3]++,t==="ready"),b=(n().s[4]++,t==="dropped"),me=(n().s[5]++,t==="inserting"),I=(n().s[6]++,g===0),f=(n().s[7]++,fe[de]),x=(n().s[8]++,h.useRef(null)),[y,v]=(n().s[9]++,h.useState([]));n().s[10]++;const pe=i=>{n().f[1]++;const u=(n().s[11]++,Math.min(i,100));return n().s[12]++,Array.from({length:u}).map((p,B)=>(n().f[2]++,n().s[13]++,{id:B,x:10+Math.random()*75,y:35+Math.random()*55,rotate:Math.random()*60-30,color:["#ef4444","#eab308","#3b82f6","#22c55e","#a855f7","#ec4899","#f97316"][B%7],zIndex:B}))};n().s[14]++,h.useEffect(()=>{n().f[3]++,n().s[15]++,v(pe(g))},[]),n().s[16]++,h.useEffect(()=>{n().f[4]++;let i;if(n().s[17]++,m){n().b[0][0]++;let u=(n().s[18]++,0);const p=(n().s[19]++,80);n().s[20]++;const B=X=>{n().f[5]++,n().s[21]++,X-u>=p?(n().b[1][0]++,n().s[22]++,u=X,n().s[23]++,v(he=>(n().f[6]++,n().s[24]++,he.map(V=>(n().f[7]++,n().s[25]++,{...V,x:10+Math.random()*75,y:15+Math.random()*65,rotate:V.rotate+(Math.random()*180-90),zIndex:Math.floor(Math.random()*50)}))))):n().b[1][1]++,n().s[26]++,i=requestAnimationFrame(B)};n().s[27]++,i=requestAnimationFrame(B)}else n().b[0][1]++,n().s[28]++,v(u=>(n().f[8]++,n().s[29]++,u.length===0?(n().b[2][0]++,n().s[30]++,u):(n().b[2][1]++,n().s[31]++,u.map(p=>(n().f[9]++,n().s[32]++,{...p,x:15+Math.random()*65,y:55+Math.random()*35,rotate:Math.random()*60-30})))));return n().s[33]++,()=>{n().f[10]++,n().s[34]++,i?(n().b[3][0]++,n().s[35]++,cancelAnimationFrame(i)):n().b[3][1]++}},[m]);const[q,J]=(n().s[36]++,h.useState(null));n().s[37]++,h.useEffect(()=>{if(n().f[11]++,n().s[38]++,n().b[5][0]++,m&&(n().b[5][1]++,y.length>0)){n().b[4][0]++;const i=(n().s[39]++,Math.floor(Math.random()*y.length)),u=(n().s[40]++,y[i].color);n().s[41]++,J(i),n().s[42]++,r(u)}else n().b[4][1]++},[m]),n().s[43]++,h.useEffect(()=>{if(n().f[12]++,n().s[44]++,n().b[7][0]++,m&&(n().b[7][1]++,q!==null)){n().b[6][0]++;const i=(n().s[45]++,setTimeout(()=>{n().f[13]++,n().s[46]++,v(u=>{if(n().f[14]++,n().s[47]++,u.length===0)return n().b[8][0]++,n().s[48]++,u;n().b[8][1]++;const p=(n().s[49]++,[...u]);return n().s[50]++,p.splice(q,1),n().s[51]++,p}),n().s[52]++,J(null)},1e3));return n().s[53]++,()=>(n().f[15]++,n().s[54]++,clearTimeout(i))}else n().b[6][1]++},[m,q]),n().s[55]++;const Ce=i=>{n().f[16]++,n().s[56]++,x.current=i.touches[0].clientY};n().s[57]++;const ge=i=>{if(n().f[17]++,n().s[58]++,x.current===null){n().b[9][0]++,n().s[59]++;return}else n().b[9][1]++;const u=(n().s[60]++,i.changedTouches[0].clientY),p=(n().s[61]++,u-x.current);n().s[62]++,p>50?(n().b[10][0]++,n().s[63]++,o()):n().b[10][1]++,n().s[64]++,x.current=null};return n().s[65]++,e.jsxs("div",{className:"relative flex flex-col items-center",children:[e.jsxs("div",{className:`
        relative w-72 h-96 
        bg-gradient-to-b from-red-500 via-red-600 to-red-800
        rounded-t-[120px] rounded-b-3xl 
        border-4 border-red-900 
        shadow-[inset_0_-10px_30px_rgba(0,0,0,0.3),0_25px_60px_rgba(0,0,0,0.6)]
        flex flex-col items-center z-20
        ${m?(n().b[11][0]++,"animate-[shake-machine_0.3s_linear_infinite]"):(n().b[11][1]++,"")}
      `,children:[e.jsx("div",{className:"absolute -top-12 w-48 h-16 bg-gradient-to-b from-red-600 to-red-800 rounded-t-full border-4 border-yellow-500 shadow-lg z-0"}),e.jsx("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2 text-5xl z-10 drop-shadow-[0_5px_5px_rgba(0,0,0,0.3)]",children:"ðŸ´"}),e.jsxs("div",{className:"relative w-64 h-64 mt-8 bg-gradient-to-br from-blue-100/30 to-blue-500/10 rounded-full border-[6px] border-white/30 shadow-[inset_0_0_20px_rgba(255,255,255,0.3),0_10px_20px_rgba(0,0,0,0.2)] overflow-hidden z-10",children:[e.jsx("div",{className:"absolute top-6 left-6 w-20 h-10 bg-gradient-to-br from-white/60 to-transparent rounded-full -rotate-45 blur-[1px] z-20 pointer-events-none"}),e.jsx("div",{className:"absolute bottom-8 right-8 w-10 h-10 bg-white/10 rounded-full blur-md z-20 pointer-events-none"}),(n().b[12][0]++,g>0&&(n().b[12][1]++,y.map(i=>(n().f[18]++,n().s[66]++,e.jsx("div",{className:"absolute w-8 h-8 rounded-full will-change-transform backface-visibility-hidden",style:{left:`${i.x}%`,top:`${i.y}%`,zIndex:i.zIndex,transform:`translate3d(0, 0, 0) rotate(${i.rotate}deg)`,transition:m?(n().b[13][0]++,"none"):(n().b[13][1]++,"left 0.7s ease-out, top 0.7s ease-out, transform 0.7s ease-out")},children:e.jsx("div",{className:"w-full h-full rounded-full border border-black/5 overflow-hidden",style:{backgroundColor:i.color},children:e.jsx("div",{className:"w-full h-1/2 bg-white/40 rounded-t-full"})})},i.id))))),(n().b[14][0]++,m&&(n().b[14][1]++,e.jsxs("div",{className:"absolute inset-0 z-30 pointer-events-none rounded-full overflow-hidden isolate",children:[e.jsx("div",{className:"absolute inset-0 animate-[spin-fast_0.5s_linear_infinite]",children:e.jsx("div",{className:"w-full h-full rounded-full border-t-[30px] border-l-[15px] border-transparent border-t-white/30 border-l-white/10 blur-[3px]"})}),e.jsx("div",{className:"absolute inset-0 animate-[spin-fast_0.7s_linear_infinite_reverse] opacity-40",children:e.jsx("div",{className:"w-full h-full rounded-full bg-[conic-gradient(from_0deg,transparent,rgba(250,204,21,0.6),transparent,rgba(239,68,68,0.6),transparent)] blur-xl"})})]}))),(n().b[15][0]++,I&&(n().b[15][1]++,e.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-red-900 font-black bg-white/60 text-lg shadow-inner",children:f.soldOut})))]}),e.jsxs("div",{className:"absolute bottom-0 w-full h-28 bg-gradient-to-b from-red-700 to-red-900 rounded-b-2xl border-t-4 border-red-950/30 flex items-center justify-between px-6 z-20 shadow-[inset_0_5px_10px_rgba(0,0,0,0.3)]",children:[e.jsxs("div",{className:"relative flex flex-col items-center group",children:[e.jsx("div",{className:"text-[10px] text-yellow-100 font-bold mb-1 tracking-widest drop-shadow-sm uppercase",children:f.coinSlot}),e.jsxs("div",{className:"relative",children:[(n().b[16][0]++,t==="idle"&&(n().b[16][1]++,!I)&&(n().b[16][2]++,e.jsx("div",{className:"absolute -top-9 -translate-x-1/2 z-40 animate-bounce pointer-events-none",children:e.jsxs("div",{className:"bg-white text-red-600 border-2 border-red-600 text-[10px] font-black px-2 py-1 rounded-lg shadow-sm whitespace-nowrap relative",children:[f.start,e.jsx("div",{className:"absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-2 h-2 bg-white border-b-2 border-r-2 border-red-600 rotate-45"})]})}))),e.jsx("button",{onClick:l,disabled:(n().b[17][0]++,t!=="idle"||(n().b[17][1]++,I)),className:`
                    w-10 h-14 rounded-full border-2 border-gray-500 shadow-[inset_0_2px_5px_rgba(0,0,0,0.5),0_2px_4px_rgba(255,255,255,0.1)]
                    flex items-center justify-center transition-all overflow-hidden
                    bg-gradient-to-b from-gray-600 to-gray-800
                    ${n().b[19][0]++,t==="idle"&&(n().b[19][1]++,!I)?(n().b[18][0]++,"hover:scale-105 cursor-pointer hover:border-yellow-400 hover:ring-2 hover:ring-yellow-400/50"):(n().b[18][1]++,"opacity-80 cursor-not-allowed")}
                  `,children:e.jsx("div",{className:"w-1.5 h-8 bg-black rounded-full shadow-[inset_0_0_2px_rgba(255,255,255,0.3)] border border-gray-700"})}),(n().b[20][0]++,me&&(n().b[20][1]++,e.jsxs("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-gradient-to-br from-amber-300 via-yellow-400 to-amber-600 border-2 border-amber-700 flex items-center justify-center shadow-[0_2px_8px_rgba(0,0,0,0.4),inset_0_1px_2px_rgba(255,255,255,0.5)] animate-[coin-drop_0.8s_forwards] pointer-events-none",children:[e.jsx("div",{className:"absolute inset-0.5 rounded-full border border-amber-500/40"}),e.jsxs("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 border border-amber-600/50 flex flex-col items-center justify-center shadow-[inset_0_1px_3px_rgba(0,0,0,0.2)]",children:[e.jsx("span",{className:"text-[8px] font-bold text-amber-900/80 leading-none",children:"RM"}),e.jsx("span",{className:"text-sm font-black text-amber-900 leading-none -mt-0.5",children:"1"})]})]})))]})]}),e.jsxs("div",{className:"relative group",children:[e.jsxs("button",{onClick:a,disabled:!L,className:`
                relative w-20 h-20 rounded-full 
                bg-gradient-to-br from-yellow-300 via-yellow-500 to-yellow-700
                border-b-4 border-yellow-800 
                shadow-[0_10px_20px_rgba(0,0,0,0.4),inset_0_2px_10px_rgba(255,255,255,0.5)]
                flex items-center justify-center z-20 transition-transform duration-700
                ${L?(n().b[21][0]++,"cursor-pointer hover:brightness-110 active:scale-95"):(n().b[21][1]++,"cursor-not-allowed filter grayscale-[0.8] opacity-90")}
              `,style:{transform:m?(n().b[22][0]++,"rotate(360deg)"):(n().b[22][1]++,"rotate(0deg)")},children:[e.jsx("div",{className:"w-16 h-4 bg-yellow-600/30 rounded-full absolute shadow-[inset_0_1px_2px_rgba(0,0,0,0.3)]"}),e.jsx("div",{className:"w-4 h-16 bg-yellow-600/30 rounded-full absolute shadow-[inset_0_1px_2px_rgba(0,0,0,0.3)]"}),e.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-400 to-yellow-700 rounded-full z-10 shadow-[0_2px_5px_rgba(0,0,0,0.3)] flex items-center justify-center",children:e.jsx("div",{className:"w-3 h-3 bg-yellow-200 rounded-full blur-[1px] opacity-70"})})]}),(n().b[23][0]++,L&&(n().b[23][1]++,e.jsx("div",{className:"absolute -bottom-6 w-full text-center text-xs text-yellow-200 font-bold animate-bounce drop-shadow-md whitespace-nowrap",children:f.spin})))]}),e.jsxs("div",{className:"w-12 text-center",children:[e.jsx("div",{className:"w-12 h-12 bg-black/60 rounded-full shadow-[inset_0_5px_10px_rgba(0,0,0,1)] border-b border-white/10 overflow-hidden relative",children:e.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-80"})}),e.jsx("div",{className:"text-[10px] text-yellow-100 font-bold mt-1 drop-shadow-sm uppercase",children:f.exit})]})]})]}),e.jsx("div",{className:"relative h-36 w-full flex justify-center items-end -mt-6 z-30 perspective-500 pointer-events-none",children:e.jsx("div",{className:"pointer-events-auto relative flex flex-col items-center pb-0",children:(n().b[24][0]++,(b||(n().b[24][1]++,t==="opening"))&&(n().b[24][2]++,e.jsxs(e.Fragment,{children:[e.jsx("button",{onClick:b?(n().b[25][0]++,o):(n().b[25][1]++,void 0),onTouchStart:b?(n().b[26][0]++,Ce):(n().b[26][1]++,void 0),onTouchEnd:b?(n().b[27][0]++,ge):(n().b[27][1]++,void 0),disabled:t==="opening",className:`
                  relative z-10 origin-center transition-transform touch-none bg-transparent border-none p-0
                  ${b?(n().b[28][0]++,"cursor-pointer animate-[chute-exit_0.8s_forwards] hover:scale-105"):(n().b[28][1]++,"")}
                `,"aria-label":"Open capsule",children:e.jsx("div",{className:"rotate-[15deg] transform-gpu",children:e.jsx(be,{color:c,isOpen:t==="opening"})})}),e.jsx("div",{className:"absolute bottom-1 left-1/2 w-16 h-3 bg-black/50 rounded-[50%] blur-sm z-0 animate-[shadow-slide_0.8s_forwards]"}),(n().b[29][0]++,b&&(n().b[29][1]++,e.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-center text-xs text-white bg-red-600/90 border border-yellow-400/50 px-2 py-1 rounded-full animate-bounce whitespace-nowrap shadow-sm z-20",children:f.open})))]})))})})]})};n().s[67]++;ue.__docgenInfo={description:"",methods:[],displayName:"GachaponMachine",props:{gameState:{required:!0,tsType:{name:"union",raw:`| "idle" // Waiting for coin
| "inserting" // Coin animation playing
| "ready" // Coin inserted, waiting for spin
| "spinning" // Machine turning
| "dropped" // Capsule waiting to be opened
| "opening" // Capsule opening animation
| "result" // Showing the result
| "empty"`,elements:[{name:"literal",value:'"idle"'},{name:"literal",value:'"inserting"'},{name:"literal",value:'"ready"'},{name:"literal",value:'"spinning"'},{name:"literal",value:'"dropped"'},{name:"literal",value:'"opening"'},{name:"literal",value:'"result"'},{name:"literal",value:'"empty"'}]},description:""},onInsertCoin:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSpin:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onOpenCapsule:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},capsuleColor:{required:!0,tsType:{name:"string"},description:""},onCapsuleColorPicked:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},remainingCount:{required:!0,tsType:{name:"number"},description:""},language:{required:!0,tsType:{name:"union",raw:'"zh" | "en"',elements:[{name:"literal",value:'"zh"'},{name:"literal",value:'"en"'}]},description:""}}};const ve={title:"Components/GachaponMachine",component:ue,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{gameState:{control:"select",options:["idle","inserting","ready","spinning","dropped","opening","result","empty"],description:"Current state of the game"},capsuleColor:{control:"color",description:"Color of the dropped capsule"},remainingCount:{control:{type:"number",min:0,max:100},description:"Number of remaining fortunes"},language:{control:"radio",options:["zh","en"],description:"Display language"},onInsertCoin:{action:"coin inserted"},onSpin:{action:"spin triggered"},onOpenCapsule:{action:"capsule opened"},onCapsuleColorPicked:{action:"color picked"}},decorators:[t=>e.jsx("div",{className:"p-8",children:e.jsx(t,{})})]},d={args:{gameState:"idle",capsuleColor:"#ef4444",remainingCount:100,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()}},w={args:{...d.args,language:"en"}},E={args:{...d.args,gameState:"inserting"}},S={args:{...d.args,gameState:"ready"}},T={args:{...d.args,gameState:"spinning"}},O={args:{...d.args,gameState:"dropped"}},M={args:{...d.args,gameState:"opening"}},U={args:{gameState:"opening",capsuleColor:"#ef4444",remainingCount:99,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t})=>{const l=C(t),a=l.getByRole("button",{name:"Open capsule"});await s(a).toBeInTheDocument(),await s(a).toBeDisabled();const o=l.queryByText("ç‚¹å‡»æˆ–ä¸‹æ»‘æ‰“å¼€");await s(o).not.toBeInTheDocument()}},_={args:{...d.args,gameState:"idle",remainingCount:0}},G={args:{...d.args,remainingCount:5}},k={args:{...d.args,gameState:"dropped",capsuleColor:"#3b82f6"}},W={args:{...d.args,gameState:"dropped",capsuleColor:"#22c55e"}},K={args:{...d.args,gameState:"dropped",capsuleColor:"#a855f7"}},N={args:{gameState:"idle",capsuleColor:"#ef4444",remainingCount:100,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:l})=>{const a=C(t),o=a.getByText("æŠ•å¸å£");await s(o).toBeInTheDocument();const c=a.getByText("ç‚¹å‡»æŠ•å¸");await s(c).toBeInTheDocument();const g=a.getAllByRole("button")[0];await P.click(g),await s(l.onInsertCoin).toHaveBeenCalledTimes(1)}},Y={args:{gameState:"ready",capsuleColor:"#ef4444",remainingCount:100,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:l})=>{const a=C(t),o=a.getByText("ç‚¹å‡»æ—‹è½¬");await s(o).toBeInTheDocument();const r=a.getAllByRole("button")[1];await P.click(r),await s(l.onSpin).toHaveBeenCalledTimes(1)}},D={args:{gameState:"dropped",capsuleColor:"#ef4444",remainingCount:99,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:l})=>{const a=C(t),o=a.getByText("ç‚¹å‡»æˆ–ä¸‹æ»‘æ‰“å¼€");await s(o).toBeInTheDocument();const c=a.getByRole("button",{name:"Open capsule"});await s(c).toBeInTheDocument(),await P.click(c),await s(l.onOpenCapsule).toHaveBeenCalledTimes(1)}},j={args:{gameState:"ready",capsuleColor:"#ef4444",remainingCount:100,language:"en",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t})=>{const l=C(t),a=l.getByText("INSERT");await s(a).toBeInTheDocument();const o=l.getByText("EXIT");await s(o).toBeInTheDocument();const c=l.getByText("SPIN");await s(c).toBeInTheDocument()}},Q={args:{gameState:"idle",capsuleColor:"#ef4444",remainingCount:0,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:l})=>{const a=C(t),o=a.getByText("å·²å”®ç½„");await s(o).toBeInTheDocument();const r=a.getAllByRole("button")[0];await P.click(r),await s(l.onInsertCoin).not.toHaveBeenCalled()}},F={args:{gameState:"spinning",capsuleColor:"#ef4444",remainingCount:50,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t})=>{const l=t.querySelector('[class*="animate-\\[spin-fast"]');await s(l).toBeInTheDocument(),await new Promise(a=>setTimeout(a,1500))}},z={args:{gameState:"dropped",capsuleColor:"#ef4444",remainingCount:99,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:l})=>{const o=C(t).getByRole("button",{name:"Open capsule"});await s(o).toBeInTheDocument();const c=new TouchEvent("touchstart",{bubbles:!0,cancelable:!0,touches:[new Touch({identifier:0,target:o,clientX:100,clientY:100})]});o.dispatchEvent(c);const r=new TouchEvent("touchend",{bubbles:!0,cancelable:!0,changedTouches:[new Touch({identifier:0,target:o,clientX:100,clientY:200})]});o.dispatchEvent(r),await s(l.onOpenCapsule).toHaveBeenCalledTimes(1)}},H={args:{gameState:"dropped",capsuleColor:"#3b82f6",remainingCount:99,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:l})=>{const o=C(t).getByRole("button",{name:"Open capsule"});await s(o).toBeInTheDocument();const c=new TouchEvent("touchstart",{bubbles:!0,cancelable:!0,touches:[new Touch({identifier:0,target:o,clientX:100,clientY:100})]});o.dispatchEvent(c);const r=new TouchEvent("touchend",{bubbles:!0,cancelable:!0,changedTouches:[new Touch({identifier:0,target:o,clientX:100,clientY:130})]});o.dispatchEvent(r),await s(l.onOpenCapsule).not.toHaveBeenCalled()}},R={args:{gameState:"dropped",capsuleColor:"#22c55e",remainingCount:99,language:"en",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:l})=>{const a=C(t),o=a.getByText("CLICK OR SWIPE DOWN");await s(o).toBeInTheDocument();const c=a.getByRole("button",{name:"Open capsule"});await s(c).toBeInTheDocument();const r=new TouchEvent("touchend",{bubbles:!0,cancelable:!0,changedTouches:[new Touch({identifier:0,target:c,clientX:100,clientY:200})]});c.dispatchEvent(r),await s(l.onOpenCapsule).not.toHaveBeenCalled()}};var Z,$,nn;d.parameters={...d.parameters,docs:{...(Z=d.parameters)==null?void 0:Z.docs,source:{originalSource:`{
  args: {
    gameState: "idle",
    capsuleColor: "#ef4444",
    remainingCount: 100,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  }
}`,...(nn=($=d.parameters)==null?void 0:$.docs)==null?void 0:nn.source}}};var en,An,tn;w.parameters={...w.parameters,docs:{...(en=w.parameters)==null?void 0:en.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    language: "en"
  }
}`,...(tn=(An=w.parameters)==null?void 0:An.docs)==null?void 0:tn.source}}};var on,an,ln;E.parameters={...E.parameters,docs:{...(on=E.parameters)==null?void 0:on.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "inserting"
  }
}`,...(ln=(an=E.parameters)==null?void 0:an.docs)==null?void 0:ln.source}}};var sn,cn,rn;S.parameters={...S.parameters,docs:{...(sn=S.parameters)==null?void 0:sn.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "ready"
  }
}`,...(rn=(cn=S.parameters)==null?void 0:cn.docs)==null?void 0:rn.source}}};var un,dn,mn;T.parameters={...T.parameters,docs:{...(un=T.parameters)==null?void 0:un.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "spinning"
  }
}`,...(mn=(dn=T.parameters)==null?void 0:dn.docs)==null?void 0:mn.source}}};var pn,Cn,gn;O.parameters={...O.parameters,docs:{...(pn=O.parameters)==null?void 0:pn.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "dropped"
  }
}`,...(gn=(Cn=O.parameters)==null?void 0:Cn.docs)==null?void 0:gn.source}}};var hn,bn,fn;M.parameters={...M.parameters,docs:{...(hn=M.parameters)==null?void 0:hn.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "opening"
  }
}`,...(fn=(bn=M.parameters)==null?void 0:bn.docs)==null?void 0:fn.source}}};var Bn,In,xn;U.parameters={...U.parameters,docs:{...(Bn=U.parameters)==null?void 0:Bn.docs,source:{originalSource:`{
  args: {
    gameState: "opening",
    capsuleColor: "#ef4444",
    remainingCount: 99,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);

    // Verify the capsule button is still rendered in opening state (for animation)
    const capsuleButton = canvas.getByRole("button", {
      name: "Open capsule"
    });
    await expect(capsuleButton).toBeInTheDocument();

    // Verify it's disabled during opening state
    await expect(capsuleButton).toBeDisabled();

    // Verify hint tooltip is NOT shown in opening state
    const openHint = canvas.queryByText("ç‚¹å‡»æˆ–ä¸‹æ»‘æ‰“å¼€");
    await expect(openHint).not.toBeInTheDocument();
  }
}`,...(xn=(In=U.parameters)==null?void 0:In.docs)==null?void 0:xn.source}}};var yn,vn,wn;_.parameters={..._.parameters,docs:{...(yn=_.parameters)==null?void 0:yn.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "idle",
    remainingCount: 0
  }
}`,...(wn=(vn=_.parameters)==null?void 0:vn.docs)==null?void 0:wn.source}}};var En,Sn,Tn;G.parameters={...G.parameters,docs:{...(En=G.parameters)==null?void 0:En.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    remainingCount: 5
  }
}`,...(Tn=(Sn=G.parameters)==null?void 0:Sn.docs)==null?void 0:Tn.source}}};var On,Mn,Un;k.parameters={...k.parameters,docs:{...(On=k.parameters)==null?void 0:On.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "dropped",
    capsuleColor: "#3b82f6"
  }
}`,...(Un=(Mn=k.parameters)==null?void 0:Mn.docs)==null?void 0:Un.source}}};var _n,Gn,kn;W.parameters={...W.parameters,docs:{...(_n=W.parameters)==null?void 0:_n.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "dropped",
    capsuleColor: "#22c55e"
  }
}`,...(kn=(Gn=W.parameters)==null?void 0:Gn.docs)==null?void 0:kn.source}}};var Wn,Kn,Nn;K.parameters={...K.parameters,docs:{...(Wn=K.parameters)==null?void 0:Wn.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "dropped",
    capsuleColor: "#a855f7"
  }
}`,...(Nn=(Kn=K.parameters)==null?void 0:Kn.docs)==null?void 0:Nn.source}}};var Yn,Dn,jn;N.parameters={...N.parameters,docs:{...(Yn=N.parameters)==null?void 0:Yn.docs,source:{originalSource:`{
  args: {
    gameState: "idle",
    capsuleColor: "#ef4444",
    remainingCount: 100,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find and verify the coin slot label
    const coinSlotLabel = canvas.getByText("æŠ•å¸å£");
    await expect(coinSlotLabel).toBeInTheDocument();

    // Find the start hint
    const startHint = canvas.getByText("ç‚¹å‡»æŠ•å¸");
    await expect(startHint).toBeInTheDocument();

    // Find the coin slot button (first button in the component)
    const buttons = canvas.getAllByRole("button");
    const coinSlotButton = buttons[0]; // First button is coin slot

    // Click the coin slot
    await userEvent.click(coinSlotButton);

    // Verify onInsertCoin was called
    await expect(args.onInsertCoin).toHaveBeenCalledTimes(1);
  }
}`,...(jn=(Dn=N.parameters)==null?void 0:Dn.docs)==null?void 0:jn.source}}};var Qn,Fn,zn;Y.parameters={...Y.parameters,docs:{...(Qn=Y.parameters)==null?void 0:Qn.docs,source:{originalSource:`{
  args: {
    gameState: "ready",
    capsuleColor: "#ef4444",
    remainingCount: 100,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find and verify the spin text
    const spinText = canvas.getByText("ç‚¹å‡»æ—‹è½¬");
    await expect(spinText).toBeInTheDocument();

    // Find the spin button (second button in ready state)
    const buttons = canvas.getAllByRole("button");
    const spinButton = buttons[1]; // Second button is spin knob

    // Click the spin button
    await userEvent.click(spinButton);

    // Verify onSpin was called
    await expect(args.onSpin).toHaveBeenCalledTimes(1);
  }
}`,...(zn=(Fn=Y.parameters)==null?void 0:Fn.docs)==null?void 0:zn.source}}};var Hn,Rn,Pn;D.parameters={...D.parameters,docs:{...(Hn=D.parameters)==null?void 0:Hn.docs,source:{originalSource:`{
  args: {
    gameState: "dropped",
    capsuleColor: "#ef4444",
    remainingCount: 99,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find the open hint
    const openHint = canvas.getByText("ç‚¹å‡»æˆ–ä¸‹æ»‘æ‰“å¼€");
    await expect(openHint).toBeInTheDocument();

    // Find the capsule button by aria-label and click it
    const capsuleButton = canvas.getByRole("button", {
      name: "Open capsule"
    });
    await expect(capsuleButton).toBeInTheDocument();
    await userEvent.click(capsuleButton);

    // Verify onOpenCapsule was called
    await expect(args.onOpenCapsule).toHaveBeenCalledTimes(1);
  }
}`,...(Pn=(Rn=D.parameters)==null?void 0:Rn.docs)==null?void 0:Pn.source}}};var Ln,qn,Jn;j.parameters={...j.parameters,docs:{...(Ln=j.parameters)==null?void 0:Ln.docs,source:{originalSource:`{
  args: {
    gameState: "ready",
    capsuleColor: "#ef4444",
    remainingCount: 100,
    language: "en",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);

    // Verify English labels
    const insertLabel = canvas.getByText("INSERT");
    await expect(insertLabel).toBeInTheDocument();
    const exitLabel = canvas.getByText("EXIT");
    await expect(exitLabel).toBeInTheDocument();
    const spinText = canvas.getByText("SPIN");
    await expect(spinText).toBeInTheDocument();
  }
}`,...(Jn=(qn=j.parameters)==null?void 0:qn.docs)==null?void 0:Jn.source}}};var Xn,Vn,Zn;Q.parameters={...Q.parameters,docs:{...(Xn=Q.parameters)==null?void 0:Xn.docs,source:{originalSource:`{
  args: {
    gameState: "idle",
    capsuleColor: "#ef4444",
    remainingCount: 0,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Verify sold out text
    const soldOutText = canvas.getByText("å·²å”®ç½„");
    await expect(soldOutText).toBeInTheDocument();

    // Find the coin slot button
    const buttons = canvas.getAllByRole("button");
    const coinSlotButton = buttons[0];

    // Click should not trigger onInsertCoin when empty
    await userEvent.click(coinSlotButton);
    await expect(args.onInsertCoin).not.toHaveBeenCalled();
  }
}`,...(Zn=(Vn=Q.parameters)==null?void 0:Vn.docs)==null?void 0:Zn.source}}};var $n,ne,ee;F.parameters={...F.parameters,docs:{...($n=F.parameters)==null?void 0:$n.docs,source:{originalSource:`{
  args: {
    gameState: "spinning",
    capsuleColor: "#ef4444",
    remainingCount: 50,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement
  }) => {
    // Verify the spinning effect overlay is visible
    const spinningOverlay = canvasElement.querySelector('[class*="animate-\\\\[spin-fast"]');
    await expect(spinningOverlay).toBeInTheDocument();

    // Wait for capsule initialization and color picking
    // The useEffects run async, so we wait for the full spin animation cycle
    await new Promise(resolve => setTimeout(resolve, 1500));
  }
}`,...(ee=(ne=F.parameters)==null?void 0:ne.docs)==null?void 0:ee.source}}};var Ae,te,oe;z.parameters={...z.parameters,docs:{...(Ae=z.parameters)==null?void 0:Ae.docs,source:{originalSource:`{
  args: {
    gameState: "dropped",
    capsuleColor: "#ef4444",
    remainingCount: 99,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find the capsule button
    const capsuleButton = canvas.getByRole("button", {
      name: "Open capsule"
    }) as HTMLElement;
    await expect(capsuleButton).toBeInTheDocument();

    // Simulate touch start
    const touchStartEvent = new TouchEvent("touchstart", {
      bubbles: true,
      cancelable: true,
      touches: [new Touch({
        identifier: 0,
        target: capsuleButton,
        clientX: 100,
        clientY: 100
      })]
    });
    capsuleButton.dispatchEvent(touchStartEvent);

    // Simulate touch end with downward swipe (> 50px threshold)
    const touchEndEvent = new TouchEvent("touchend", {
      bubbles: true,
      cancelable: true,
      changedTouches: [new Touch({
        identifier: 0,
        target: capsuleButton,
        clientX: 100,
        clientY: 200 // 100px down
      })]
    });
    capsuleButton.dispatchEvent(touchEndEvent);

    // Verify onOpenCapsule was called
    await expect(args.onOpenCapsule).toHaveBeenCalledTimes(1);
  }
}`,...(oe=(te=z.parameters)==null?void 0:te.docs)==null?void 0:oe.source}}};var ae,le,se;H.parameters={...H.parameters,docs:{...(ae=H.parameters)==null?void 0:ae.docs,source:{originalSource:`{
  args: {
    gameState: "dropped",
    capsuleColor: "#3b82f6",
    remainingCount: 99,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find the capsule button
    const capsuleButton = canvas.getByRole("button", {
      name: "Open capsule"
    }) as HTMLElement;
    await expect(capsuleButton).toBeInTheDocument();

    // Simulate touch start
    const touchStartEvent = new TouchEvent("touchstart", {
      bubbles: true,
      cancelable: true,
      touches: [new Touch({
        identifier: 0,
        target: capsuleButton,
        clientX: 100,
        clientY: 100
      })]
    });
    capsuleButton.dispatchEvent(touchStartEvent);

    // Simulate touch end with small movement (< 50px threshold)
    const touchEndEvent = new TouchEvent("touchend", {
      bubbles: true,
      cancelable: true,
      changedTouches: [new Touch({
        identifier: 0,
        target: capsuleButton,
        clientX: 100,
        clientY: 130 // Only 30px down, should NOT trigger
      })]
    });
    capsuleButton.dispatchEvent(touchEndEvent);

    // Verify onOpenCapsule was NOT called (swipe too small)
    await expect(args.onOpenCapsule).not.toHaveBeenCalled();
  }
}`,...(se=(le=H.parameters)==null?void 0:le.docs)==null?void 0:se.source}}};var ie,ce,re;R.parameters={...R.parameters,docs:{...(ie=R.parameters)==null?void 0:ie.docs,source:{originalSource:`{
  args: {
    gameState: "dropped",
    capsuleColor: "#22c55e",
    remainingCount: 99,
    language: "en",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Verify English hint
    const openHint = canvas.getByText("CLICK OR SWIPE DOWN");
    await expect(openHint).toBeInTheDocument();

    // Find the capsule button
    const capsuleButton = canvas.getByRole("button", {
      name: "Open capsule"
    }) as HTMLElement;
    await expect(capsuleButton).toBeInTheDocument();

    // Only dispatch touchend without touchstart
    const touchEndEvent = new TouchEvent("touchend", {
      bubbles: true,
      cancelable: true,
      changedTouches: [new Touch({
        identifier: 0,
        target: capsuleButton,
        clientX: 100,
        clientY: 200
      })]
    });
    capsuleButton.dispatchEvent(touchEndEvent);

    // Should NOT trigger since touchStartY is null
    await expect(args.onOpenCapsule).not.toHaveBeenCalled();
  }
}`,...(re=(ce=R.parameters)==null?void 0:ce.docs)==null?void 0:re.source}}};const we=["Idle","IdleEnglish","InsertingCoin","ReadyToSpin","Spinning","CapsuleDropped","CapsuleOpening","InteractionTestCapsuleOpeningState","EmptyMachine","LowRemaining","DroppedBlueCapsule","DroppedGreenCapsule","DroppedPurpleCapsule","InteractionTestInsertCoin","InteractionTestSpin","InteractionTestOpenCapsule","InteractionTestEnglishLabels","InteractionTestEmptyMachine","InteractionTestSpinning","InteractionTestTouchSwipe","InteractionTestTouchNoSwipe","InteractionTestTouchEndOnly"];export{O as CapsuleDropped,M as CapsuleOpening,k as DroppedBlueCapsule,W as DroppedGreenCapsule,K as DroppedPurpleCapsule,_ as EmptyMachine,d as Idle,w as IdleEnglish,E as InsertingCoin,U as InteractionTestCapsuleOpeningState,Q as InteractionTestEmptyMachine,j as InteractionTestEnglishLabels,N as InteractionTestInsertCoin,D as InteractionTestOpenCapsule,Y as InteractionTestSpin,F as InteractionTestSpinning,R as InteractionTestTouchEndOnly,H as InteractionTestTouchNoSwipe,z as InteractionTestTouchSwipe,G as LowRemaining,S as ReadyToSpin,T as Spinning,we as __namedExportsOrder,ve as default};
//# sourceMappingURL=GachaponMachine.stories-DVklfABJ.js.map
