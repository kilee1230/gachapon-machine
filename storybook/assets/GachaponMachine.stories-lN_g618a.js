import{j as n}from"./jsx-runtime-D_zvdyIk.js";import{f as A,w as f,e as r,u as H}from"./index-DPYJpPba.js";import{r as g}from"./index-CC6F48bw.js";import{C as X}from"./Capsule-IBv8kpkf.js";function e(){var t="/home/runner/work/gachapon-machine/gachapon-machine/src/components/GachaponMachine.tsx",a="b93a0aedd226d7a9e1e2451eb64b6b74aa022a76",o=window,s="__coverage__",i={path:"/home/runner/work/gachapon-machine/gachapon-machine/src/components/GachaponMachine.tsx",statementMap:{0:{start:{line:4,column:15},end:{line:21,column:1}},1:{start:{line:22,column:31},end:{line:273,column:1}},2:{start:{line:32,column:21},end:{line:32,column:45}},3:{start:{line:33,column:18},end:{line:33,column:39}},4:{start:{line:34,column:20},end:{line:34,column:43}},5:{start:{line:35,column:22},end:{line:35,column:47}},6:{start:{line:36,column:18},end:{line:36,column:38}},7:{start:{line:37,column:15},end:{line:37,column:31}},8:{start:{line:38,column:22},end:{line:38,column:34}},9:{start:{line:39,column:46},end:{line:39,column:58}},10:{start:{line:40,column:27},end:{line:61,column:3}},11:{start:{line:41,column:24},end:{line:41,column:44}},12:{start:{line:42,column:4},end:{line:60,column:8}},13:{start:{line:42,column:62},end:{line:60,column:5}},14:{start:{line:62,column:2},end:{line:64,column:9}},15:{start:{line:63,column:4},end:{line:63,column:56}},16:{start:{line:65,column:2},end:{line:104,column:19}},17:{start:{line:67,column:4},end:{line:100,column:5}},18:{start:{line:68,column:23},end:{line:68,column:24}},19:{start:{line:69,column:29},end:{line:69,column:31}},20:{start:{line:70,column:22},end:{line:86,column:7}},21:{start:{line:71,column:8},end:{line:84,column:9}},22:{start:{line:72,column:10},end:{line:72,column:33}},23:{start:{line:73,column:10},end:{line:83,column:12}},24:{start:{line:74,column:22},end:{line:82,column:15}},25:{start:{line:74,column:41},end:{line:82,column:13}},26:{start:{line:85,column:8},end:{line:85,column:53}},27:{start:{line:87,column:6},end:{line:87,column:51}},28:{start:{line:89,column:6},end:{line:99,column:9}},29:{start:{line:90,column:8},end:{line:90,column:43}},30:{start:{line:90,column:31},end:{line:90,column:43}},31:{start:{line:91,column:8},end:{line:98,column:12}},32:{start:{line:91,column:34},end:{line:98,column:9}},33:{start:{line:101,column:4},end:{line:103,column:6}},34:{start:{line:102,column:6},end:{line:102,column:57}},35:{start:{line:102,column:23},end:{line:102,column:57}},36:{start:{line:105,column:48},end:{line:105,column:62}},37:{start:{line:106,column:2},end:{line:113,column:19}},38:{start:{line:107,column:4},end:{line:112,column:5}},39:{start:{line:108,column:28},end:{line:108,column:77}},40:{start:{line:109,column:26},end:{line:109,column:61}},41:{start:{line:110,column:6},end:{line:110,column:40}},42:{start:{line:111,column:6},end:{line:111,column:40}},43:{start:{line:114,column:2},end:{line:127,column:36}},44:{start:{line:115,column:4},end:{line:126,column:5}},45:{start:{line:116,column:20},end:{line:124,column:13}},46:{start:{line:117,column:8},end:{line:122,column:11}},47:{start:{line:118,column:10},end:{line:118,column:45}},48:{start:{line:118,column:33},end:{line:118,column:45}},49:{start:{line:119,column:26},end:{line:119,column:35}},50:{start:{line:120,column:10},end:{line:120,column:45}},51:{start:{line:121,column:10},end:{line:121,column:25}},52:{start:{line:123,column:8},end:{line:123,column:33}},53:{start:{line:125,column:6},end:{line:125,column:39}},54:{start:{line:125,column:19},end:{line:125,column:38}},55:{start:{line:128,column:27},end:{line:130,column:3}},56:{start:{line:129,column:4},end:{line:129,column:47}},57:{start:{line:131,column:25},end:{line:139,column:3}},58:{start:{line:132,column:4},end:{line:132,column:45}},59:{start:{line:132,column:38},end:{line:132,column:45}},60:{start:{line:133,column:22},end:{line:133,column:49}},61:{start:{line:134,column:18},end:{line:134,column:49}},62:{start:{line:135,column:4},end:{line:137,column:5}},63:{start:{line:136,column:6},end:{line:136,column:22}},64:{start:{line:138,column:4},end:{line:138,column:31}},65:{start:{line:140,column:2},end:{line:272,column:7}},66:{start:{line:159,column:78},end:{line:180,column:13}},67:{start:{line:275,column:0},end:{line:275,column:2093}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:22,column:31},end:{line:22,column:32}},loc:{start:{line:31,column:6},end:{line:273,column:1}},line:31},1:{name:"(anonymous_1)",decl:{start:{line:40,column:27},end:{line:40,column:28}},loc:{start:{line:40,column:38},end:{line:61,column:3}},line:40},2:{name:"(anonymous_2)",decl:{start:{line:42,column:51},end:{line:42,column:52}},loc:{start:{line:42,column:62},end:{line:60,column:5}},line:42},3:{name:"(anonymous_3)",decl:{start:{line:62,column:12},end:{line:62,column:13}},loc:{start:{line:62,column:18},end:{line:64,column:3}},line:62},4:{name:"(anonymous_4)",decl:{start:{line:65,column:12},end:{line:65,column:13}},loc:{start:{line:65,column:18},end:{line:104,column:3}},line:65},5:{name:"(anonymous_5)",decl:{start:{line:70,column:22},end:{line:70,column:23}},loc:{start:{line:70,column:37},end:{line:86,column:7}},line:70},6:{name:"(anonymous_6)",decl:{start:{line:74,column:12},end:{line:74,column:13}},loc:{start:{line:74,column:22},end:{line:82,column:15}},line:74},7:{name:"(anonymous_7)",decl:{start:{line:74,column:31},end:{line:74,column:32}},loc:{start:{line:74,column:41},end:{line:82,column:13}},line:74},8:{name:"(anonymous_8)",decl:{start:{line:89,column:24},end:{line:89,column:25}},loc:{start:{line:89,column:34},end:{line:99,column:7}},line:89},9:{name:"(anonymous_9)",decl:{start:{line:91,column:24},end:{line:91,column:25}},loc:{start:{line:91,column:34},end:{line:98,column:9}},line:91},10:{name:"(anonymous_10)",decl:{start:{line:101,column:11},end:{line:101,column:12}},loc:{start:{line:101,column:17},end:{line:103,column:5}},line:101},11:{name:"(anonymous_11)",decl:{start:{line:106,column:12},end:{line:106,column:13}},loc:{start:{line:106,column:18},end:{line:113,column:3}},line:106},12:{name:"(anonymous_12)",decl:{start:{line:114,column:12},end:{line:114,column:13}},loc:{start:{line:114,column:18},end:{line:127,column:3}},line:114},13:{name:"(anonymous_13)",decl:{start:{line:116,column:31},end:{line:116,column:32}},loc:{start:{line:116,column:37},end:{line:124,column:7}},line:116},14:{name:"(anonymous_14)",decl:{start:{line:117,column:26},end:{line:117,column:27}},loc:{start:{line:117,column:36},end:{line:122,column:9}},line:117},15:{name:"(anonymous_15)",decl:{start:{line:125,column:13},end:{line:125,column:14}},loc:{start:{line:125,column:19},end:{line:125,column:38}},line:125},16:{name:"(anonymous_16)",decl:{start:{line:128,column:27},end:{line:128,column:28}},loc:{start:{line:128,column:34},end:{line:130,column:3}},line:128},17:{name:"(anonymous_17)",decl:{start:{line:131,column:25},end:{line:131,column:26}},loc:{start:{line:131,column:32},end:{line:139,column:3}},line:131},18:{name:"(anonymous_18)",decl:{start:{line:159,column:53},end:{line:159,column:54}},loc:{start:{line:159,column:78},end:{line:180,column:13}},line:159}},branchMap:{0:{loc:{start:{line:67,column:4},end:{line:100,column:5}},type:"if",locations:[{start:{line:67,column:4},end:{line:100,column:5}},{start:{line:88,column:11},end:{line:100,column:5}}],line:67},1:{loc:{start:{line:71,column:8},end:{line:84,column:9}},type:"if",locations:[{start:{line:71,column:8},end:{line:84,column:9}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:71},2:{loc:{start:{line:90,column:8},end:{line:90,column:43}},type:"if",locations:[{start:{line:90,column:8},end:{line:90,column:43}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:90},3:{loc:{start:{line:102,column:6},end:{line:102,column:57}},type:"if",locations:[{start:{line:102,column:6},end:{line:102,column:57}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:102},4:{loc:{start:{line:107,column:4},end:{line:112,column:5}},type:"if",locations:[{start:{line:107,column:4},end:{line:112,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:107},5:{loc:{start:{line:107,column:8},end:{line:107,column:47}},type:"binary-expr",locations:[{start:{line:107,column:8},end:{line:107,column:18}},{start:{line:107,column:22},end:{line:107,column:47}}],line:107},6:{loc:{start:{line:115,column:4},end:{line:126,column:5}},type:"if",locations:[{start:{line:115,column:4},end:{line:126,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:115},7:{loc:{start:{line:115,column:8},end:{line:115,column:46}},type:"binary-expr",locations:[{start:{line:115,column:8},end:{line:115,column:18}},{start:{line:115,column:22},end:{line:115,column:46}}],line:115},8:{loc:{start:{line:118,column:10},end:{line:118,column:45}},type:"if",locations:[{start:{line:118,column:10},end:{line:118,column:45}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:118},9:{loc:{start:{line:132,column:4},end:{line:132,column:45}},type:"if",locations:[{start:{line:132,column:4},end:{line:132,column:45}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:132},10:{loc:{start:{line:135,column:4},end:{line:137,column:5}},type:"if",locations:[{start:{line:135,column:4},end:{line:137,column:5}},{start:{line:void 0,column:void 0},end:{line:void 0,column:void 0}}],line:135},11:{loc:{start:{line:151,column:10},end:{line:151,column:74}},type:"cond-expr",locations:[{start:{line:151,column:23},end:{line:151,column:69}},{start:{line:151,column:72},end:{line:151,column:74}}],line:151},12:{loc:{start:{line:159,column:12},end:{line:180,column:14}},type:"binary-expr",locations:[{start:{line:159,column:12},end:{line:159,column:30}},{start:{line:159,column:34},end:{line:180,column:14}}],line:159},13:{loc:{start:{line:168,column:30},end:{line:168,column:116}},type:"cond-expr",locations:[{start:{line:168,column:43},end:{line:168,column:49}},{start:{line:168,column:52},end:{line:168,column:116}}],line:168},14:{loc:{start:{line:181,column:12},end:{line:184,column:16}},type:"binary-expr",locations:[{start:{line:181,column:12},end:{line:181,column:22}},{start:{line:181,column:42},end:{line:184,column:16}}],line:181},15:{loc:{start:{line:185,column:12},end:{line:185,column:198}},type:"binary-expr",locations:[{start:{line:185,column:12},end:{line:185,column:19}},{start:{line:185,column:39},end:{line:185,column:198}}],line:185},16:{loc:{start:{line:191,column:16},end:{line:194,column:23}},type:"binary-expr",locations:[{start:{line:191,column:16},end:{line:191,column:36}},{start:{line:191,column:40},end:{line:191,column:48}},{start:{line:191,column:68},end:{line:194,column:23}}],line:191},17:{loc:{start:{line:199,column:30},end:{line:199,column:61}},type:"binary-expr",locations:[{start:{line:199,column:30},end:{line:199,column:50}},{start:{line:199,column:54},end:{line:199,column:61}}],line:199},18:{loc:{start:{line:204,column:22},end:{line:204,column:185}},type:"cond-expr",locations:[{start:{line:204,column:57},end:{line:204,column:151}},{start:{line:204,column:154},end:{line:204,column:185}}],line:204},19:{loc:{start:{line:204,column:22},end:{line:204,column:54}},type:"binary-expr",locations:[{start:{line:204,column:22},end:{line:204,column:42}},{start:{line:204,column:46},end:{line:204,column:54}}],line:204},20:{loc:{start:{line:209,column:16},end:{line:215,column:20}},type:"binary-expr",locations:[{start:{line:209,column:16},end:{line:209,column:27}},{start:{line:209,column:47},end:{line:215,column:20}}],line:209},21:{loc:{start:{line:230,column:18},end:{line:230,column:138}},type:"cond-expr",locations:[{start:{line:230,column:28},end:{line:230,column:81}},{start:{line:230,column:84},end:{line:230,column:138}}],line:230},22:{loc:{start:{line:233,column:31},end:{line:233,column:77}},type:"cond-expr",locations:[{start:{line:233,column:44},end:{line:233,column:60}},{start:{line:233,column:63},end:{line:233,column:77}}],line:233},23:{loc:{start:{line:242,column:14},end:{line:242,column:210}},type:"binary-expr",locations:[{start:{line:242,column:14},end:{line:242,column:21}},{start:{line:242,column:41},end:{line:242,column:210}}],line:242},24:{loc:{start:{line:253,column:6},end:{line:266,column:10}},type:"binary-expr",locations:[{start:{line:253,column:6},end:{line:253,column:15}},{start:{line:253,column:35},end:{line:266,column:10}}],line:253},25:{loc:{start:{line:267,column:6},end:{line:270,column:10}},type:"binary-expr",locations:[{start:{line:267,column:6},end:{line:267,column:29}},{start:{line:267,column:49},end:{line:270,column:10}}],line:267}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0,19:0,20:0,21:0,22:0,23:0,24:0,25:0,26:0,27:0,28:0,29:0,30:0,31:0,32:0,33:0,34:0,35:0,36:0,37:0,38:0,39:0,40:0,41:0,42:0,43:0,44:0,45:0,46:0,47:0,48:0,49:0,50:0,51:0,52:0,53:0,54:0,55:0,56:0,57:0,58:0,59:0,60:0,61:0,62:0,63:0,64:0,65:0,66:0,67:0},f:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0,8:0,9:0,10:0,11:0,12:0,13:0,14:0,15:0,16:0,17:0,18:0},b:{0:[0,0],1:[0,0],2:[0,0],3:[0,0],4:[0,0],5:[0,0],6:[0,0],7:[0,0],8:[0,0],9:[0,0],10:[0,0],11:[0,0],12:[0,0],13:[0,0],14:[0,0],15:[0,0],16:[0,0,0],17:[0,0],18:[0,0],19:[0,0],20:[0,0],21:[0,0],22:[0,0],23:[0,0],24:[0,0],25:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/gachapon-machine/gachapon-machine/src/components/GachaponMachine.tsx"],names:[],mappings:"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"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"b93a0aedd226d7a9e1e2451eb64b6b74aa022a76"},d=o[s]||(o[s]={});(!d[t]||d[t].hash!==a)&&(d[t]=i);var C=d[t];return e=function(){return C},C}e();const Cn=(e().s[0]++,{zh:{coinSlot:"æŠ•å¸å£",spin:"ç‚¹å‡»æ—‹è½¬",exit:"å–è›‹å£",soldOut:"å·²å”®ç½„",open:"ç‚¹å‡»æˆ–ä¸‹æ»‘æ‰“å¼€",start:"ç‚¹å‡»æŠ•å¸"},en:{coinSlot:"INSERT",spin:"SPIN",exit:"EXIT",soldOut:"EMPTY",open:"CLICK OR SWIPE DOWN",start:"START HERE"}});e().s[1]++;const ln=({gameState:t,onInsertCoin:a,onSpin:o,onOpenCapsule:s,capsuleColor:i,onCapsuleColorPicked:d,remainingCount:C,language:sn})=>{e().f[0]++;const m=(e().s[2]++,t==="spinning"),P=(e().s[3]++,t==="ready"),rn=(e().s[4]++,t==="dropped"),cn=(e().s[5]++,t==="inserting"),x=(e().s[6]++,C===0),h=(e().s[7]++,Cn[sn]),I=(e().s[8]++,g.useRef(null)),[B,y]=(e().s[9]++,g.useState([]));e().s[10]++;const un=l=>{e().f[1]++;const c=(e().s[11]++,Math.min(l,100));return e().s[12]++,Array.from({length:c}).map((p,b)=>(e().f[2]++,e().s[13]++,{id:b,x:10+Math.random()*75,y:35+Math.random()*55,rotate:Math.random()*60-30,color:["#ef4444","#eab308","#3b82f6","#22c55e","#a855f7","#ec4899","#f97316"][b%7],zIndex:b}))};e().s[14]++,g.useEffect(()=>{e().f[3]++,e().s[15]++,y(un(C))},[]),e().s[16]++,g.useEffect(()=>{e().f[4]++;let l;if(e().s[17]++,m){e().b[0][0]++;let c=(e().s[18]++,0);const p=(e().s[19]++,80);e().s[20]++;const b=L=>{e().f[5]++,e().s[21]++,L-c>=p?(e().b[1][0]++,e().s[22]++,c=L,e().s[23]++,y(pn=>(e().f[6]++,e().s[24]++,pn.map(J=>(e().f[7]++,e().s[25]++,{...J,x:10+Math.random()*75,y:15+Math.random()*65,rotate:J.rotate+(Math.random()*180-90),zIndex:Math.floor(Math.random()*50)}))))):e().b[1][1]++,e().s[26]++,l=requestAnimationFrame(b)};e().s[27]++,l=requestAnimationFrame(b)}else e().b[0][1]++,e().s[28]++,y(c=>(e().f[8]++,e().s[29]++,c.length===0?(e().b[2][0]++,e().s[30]++,c):(e().b[2][1]++,e().s[31]++,c.map(p=>(e().f[9]++,e().s[32]++,{...p,x:15+Math.random()*65,y:55+Math.random()*35,rotate:Math.random()*60-30})))));return e().s[33]++,()=>{e().f[10]++,e().s[34]++,l?(e().b[3][0]++,e().s[35]++,cancelAnimationFrame(l)):e().b[3][1]++}},[m]);const[q,R]=(e().s[36]++,g.useState(null));e().s[37]++,g.useEffect(()=>{if(e().f[11]++,e().s[38]++,e().b[5][0]++,m&&(e().b[5][1]++,B.length>0)){e().b[4][0]++;const l=(e().s[39]++,Math.floor(Math.random()*B.length)),c=(e().s[40]++,B[l].color);e().s[41]++,R(l),e().s[42]++,d(c)}else e().b[4][1]++},[m]),e().s[43]++,g.useEffect(()=>{if(e().f[12]++,e().s[44]++,e().b[7][0]++,m&&(e().b[7][1]++,q!==null)){e().b[6][0]++;const l=(e().s[45]++,setTimeout(()=>{e().f[13]++,e().s[46]++,y(c=>{if(e().f[14]++,e().s[47]++,c.length===0)return e().b[8][0]++,e().s[48]++,c;e().b[8][1]++;const p=(e().s[49]++,[...c]);return e().s[50]++,p.splice(q,1),e().s[51]++,p}),e().s[52]++,R(null)},1e3));return e().s[53]++,()=>(e().f[15]++,e().s[54]++,clearTimeout(l))}else e().b[6][1]++},[m,q]),e().s[55]++;const dn=l=>{e().f[16]++,e().s[56]++,I.current=l.touches[0].clientY};e().s[57]++;const mn=l=>{if(e().f[17]++,e().s[58]++,I.current===null){e().b[9][0]++,e().s[59]++;return}else e().b[9][1]++;const c=(e().s[60]++,l.changedTouches[0].clientY),p=(e().s[61]++,c-I.current);e().s[62]++,p>50?(e().b[10][0]++,e().s[63]++,s()):e().b[10][1]++,e().s[64]++,I.current=null};return e().s[65]++,n.jsxs("div",{className:"relative flex flex-col items-center",children:[n.jsxs("div",{className:`
        relative w-72 h-96 
        bg-gradient-to-b from-red-500 via-red-600 to-red-800
        rounded-t-[120px] rounded-b-3xl 
        border-4 border-red-900 
        shadow-[inset_0_-10px_30px_rgba(0,0,0,0.3),0_25px_60px_rgba(0,0,0,0.6)]
        flex flex-col items-center z-20
        ${m?(e().b[11][0]++,"animate-[shake-machine_0.3s_linear_infinite]"):(e().b[11][1]++,"")}
      `,children:[n.jsx("div",{className:"absolute -top-12 w-48 h-16 bg-gradient-to-b from-red-600 to-red-800 rounded-t-full border-4 border-yellow-500 shadow-lg z-0"}),n.jsx("div",{className:"absolute -top-16 left-1/2 -translate-x-1/2 text-5xl z-10 drop-shadow-[0_5px_5px_rgba(0,0,0,0.3)]",children:"ðŸ´"}),n.jsxs("div",{className:"relative w-64 h-64 mt-8 bg-gradient-to-br from-blue-100/20 to-blue-500/5 rounded-full border-[6px] border-white/30 shadow-[inset_0_0_20px_rgba(255,255,255,0.3),0_10px_20px_rgba(0,0,0,0.2)] overflow-hidden backdrop-blur-[2px] z-10",children:[n.jsx("div",{className:"absolute top-6 left-6 w-20 h-10 bg-gradient-to-br from-white/60 to-transparent rounded-full -rotate-45 blur-[1px] z-20 pointer-events-none"}),n.jsx("div",{className:"absolute bottom-8 right-8 w-10 h-10 bg-white/10 rounded-full blur-md z-20 pointer-events-none"}),(e().b[12][0]++,C>0&&(e().b[12][1]++,B.map(l=>(e().f[18]++,e().s[66]++,n.jsx("div",{className:"absolute w-8 h-8 rounded-full will-change-transform backface-visibility-hidden",style:{left:`${l.x}%`,top:`${l.y}%`,zIndex:l.zIndex,transform:`translate3d(0, 0, 0) rotate(${l.rotate}deg)`,transition:m?(e().b[13][0]++,"none"):(e().b[13][1]++,"left 0.7s ease-out, top 0.7s ease-out, transform 0.7s ease-out")},children:n.jsx("div",{className:"w-full h-full rounded-full border border-black/5 overflow-hidden",style:{backgroundColor:l.color},children:n.jsx("div",{className:"w-full h-1/2 bg-white/40 rounded-t-full"})})},l.id))))),(e().b[14][0]++,m&&(e().b[14][1]++,n.jsxs("div",{className:"absolute inset-0 z-30 pointer-events-none rounded-full overflow-hidden",children:[n.jsx("div",{className:"absolute inset-0 animate-[spin-fast_0.5s_linear_infinite]",children:n.jsx("div",{className:"w-full h-full rounded-full border-t-[30px] border-l-[15px] border-transparent border-t-white/30 border-l-white/10 blur-[3px]"})}),n.jsx("div",{className:"absolute inset-0 animate-[spin-fast_0.7s_linear_infinite_reverse] opacity-40 mix-blend-overlay",children:n.jsx("div",{className:"w-full h-full rounded-full bg-[conic-gradient(from_0deg,transparent,rgba(250,204,21,0.6),transparent,rgba(239,68,68,0.6),transparent)] blur-xl"})})]}))),(e().b[15][0]++,x&&(e().b[15][1]++,n.jsx("div",{className:"absolute inset-0 flex items-center justify-center text-red-900 font-black bg-white/60 text-lg shadow-inner",children:h.soldOut})))]}),n.jsxs("div",{className:"absolute bottom-0 w-full h-28 bg-gradient-to-b from-red-700 to-red-900 rounded-b-2xl border-t-4 border-red-950/30 flex items-center justify-between px-6 z-20 shadow-[inset_0_5px_10px_rgba(0,0,0,0.3)]",children:[n.jsxs("div",{className:"relative flex flex-col items-center group",children:[n.jsx("div",{className:"text-[10px] text-yellow-100 font-bold mb-1 tracking-widest drop-shadow-sm uppercase",children:h.coinSlot}),n.jsxs("div",{className:"relative",children:[(e().b[16][0]++,t==="idle"&&(e().b[16][1]++,!x)&&(e().b[16][2]++,n.jsx("div",{className:"absolute -top-9 -translate-x-1/2 z-40 animate-bounce pointer-events-none",children:n.jsxs("div",{className:"bg-white text-red-600 border-2 border-red-600 text-[10px] font-black px-2 py-1 rounded-lg shadow-sm whitespace-nowrap relative",children:[h.start,n.jsx("div",{className:"absolute -bottom-1.5 left-1/2 -translate-x-1/2 w-2 h-2 bg-white border-b-2 border-r-2 border-red-600 rotate-45"})]})}))),n.jsx("button",{onClick:a,disabled:(e().b[17][0]++,t!=="idle"||(e().b[17][1]++,x)),className:`
                    w-10 h-14 rounded-full border-2 border-gray-500 shadow-[inset_0_2px_5px_rgba(0,0,0,0.5),0_2px_4px_rgba(255,255,255,0.1)]
                    flex items-center justify-center transition-all overflow-hidden
                    bg-gradient-to-b from-gray-600 to-gray-800
                    ${e().b[19][0]++,t==="idle"&&(e().b[19][1]++,!x)?(e().b[18][0]++,"hover:scale-105 cursor-pointer hover:border-yellow-400 hover:ring-2 hover:ring-yellow-400/50"):(e().b[18][1]++,"opacity-80 cursor-not-allowed")}
                  `,children:n.jsx("div",{className:"w-1.5 h-8 bg-black rounded-full shadow-[inset_0_0_2px_rgba(255,255,255,0.3)] border border-gray-700"})}),(e().b[20][0]++,cn&&(e().b[20][1]++,n.jsxs("div",{className:"absolute top-2 left-1/2 -translate-x-1/2 w-10 h-10 rounded-full bg-gradient-to-br from-amber-300 via-yellow-400 to-amber-600 border-2 border-amber-700 flex items-center justify-center shadow-[0_2px_8px_rgba(0,0,0,0.4),inset_0_1px_2px_rgba(255,255,255,0.5)] animate-[coin-drop_0.8s_forwards] pointer-events-none",children:[n.jsx("div",{className:"absolute inset-0.5 rounded-full border border-amber-500/40"}),n.jsxs("div",{className:"w-7 h-7 rounded-full bg-gradient-to-br from-amber-400 to-amber-600 border border-amber-600/50 flex flex-col items-center justify-center shadow-[inset_0_1px_3px_rgba(0,0,0,0.2)]",children:[n.jsx("span",{className:"text-[8px] font-bold text-amber-900/80 leading-none",children:"RM"}),n.jsx("span",{className:"text-sm font-black text-amber-900 leading-none -mt-0.5",children:"1"})]})]})))]})]}),n.jsxs("div",{className:"relative group",children:[n.jsxs("button",{onClick:o,disabled:!P,className:`
                relative w-20 h-20 rounded-full 
                bg-gradient-to-br from-yellow-300 via-yellow-500 to-yellow-700
                border-b-4 border-yellow-800 
                shadow-[0_10px_20px_rgba(0,0,0,0.4),inset_0_2px_10px_rgba(255,255,255,0.5)]
                flex items-center justify-center z-20 transition-transform duration-700
                ${P?(e().b[21][0]++,"cursor-pointer hover:brightness-110 active:scale-95"):(e().b[21][1]++,"cursor-not-allowed filter grayscale-[0.8] opacity-90")}
              `,style:{transform:m?(e().b[22][0]++,"rotate(360deg)"):(e().b[22][1]++,"rotate(0deg)")},children:[n.jsx("div",{className:"w-16 h-4 bg-yellow-600/30 rounded-full absolute shadow-[inset_0_1px_2px_rgba(0,0,0,0.3)]"}),n.jsx("div",{className:"w-4 h-16 bg-yellow-600/30 rounded-full absolute shadow-[inset_0_1px_2px_rgba(0,0,0,0.3)]"}),n.jsx("div",{className:"w-8 h-8 bg-gradient-to-br from-yellow-400 to-yellow-700 rounded-full z-10 shadow-[0_2px_5px_rgba(0,0,0,0.3)] flex items-center justify-center",children:n.jsx("div",{className:"w-3 h-3 bg-yellow-200 rounded-full blur-[1px] opacity-70"})})]}),(e().b[23][0]++,P&&(e().b[23][1]++,n.jsx("div",{className:"absolute -bottom-6 w-full text-center text-xs text-yellow-200 font-bold animate-bounce drop-shadow-md whitespace-nowrap",children:h.spin})))]}),n.jsxs("div",{className:"w-12 text-center",children:[n.jsx("div",{className:"w-12 h-12 bg-black/60 rounded-full shadow-[inset_0_5px_10px_rgba(0,0,0,1)] border-b border-white/10 overflow-hidden relative",children:n.jsx("div",{className:"absolute inset-0 bg-gradient-to-t from-black to-transparent opacity-80"})}),n.jsx("div",{className:"text-[10px] text-yellow-100 font-bold mt-1 drop-shadow-sm uppercase",children:h.exit})]})]})]}),n.jsx("div",{className:"relative h-36 w-full flex justify-center items-end -mt-6 z-30 perspective-500 pointer-events-none",children:n.jsxs("div",{className:"pointer-events-auto relative flex flex-col items-center pb-0",children:[(e().b[24][0]++,rn&&(e().b[24][1]++,n.jsxs(n.Fragment,{children:[n.jsx("div",{onClick:s,onTouchStart:dn,onTouchEnd:mn,className:"relative z-10 cursor-pointer animate-[chute-exit_0.8s_forwards] origin-center hover:scale-105 transition-transform touch-none",children:n.jsx("div",{className:"rotate-[15deg] transform-gpu",children:n.jsx(X,{color:i,isOpen:!1})})}),n.jsx("div",{className:"absolute bottom-1 left-1/2 w-16 h-3 bg-black/50 rounded-[50%] blur-sm z-0 animate-[shadow-slide_0.8s_forwards]"}),n.jsx("div",{className:"absolute -top-6 left-1/2 -translate-x-1/2 text-center text-xs text-white bg-red-600/90 border border-yellow-400/50 px-2 py-1 rounded-full animate-bounce whitespace-nowrap shadow-sm z-20",children:h.open})]}))),(e().b[25][0]++,t==="opening"&&(e().b[25][1]++,n.jsxs("div",{className:"relative z-10 transition-transform pb-0",children:[n.jsx("div",{className:"rotate-[15deg]",children:n.jsx(X,{color:i,isOpen:!0})}),n.jsx("div",{className:"absolute -bottom-0.5 left-1/2 -translate-x-1/2 w-16 h-3 bg-black/40 rounded-[50%] blur-sm z-0"})]})))]})})]})};e().s[67]++;ln.__docgenInfo={description:"",methods:[],displayName:"GachaponMachine",props:{gameState:{required:!0,tsType:{name:"union",raw:`| "idle" // Waiting for coin
| "inserting" // Coin animation playing
| "ready" // Coin inserted, waiting for spin
| "spinning" // Machine turning
| "dropped" // Capsule waiting to be opened
| "opening" // Capsule opening animation
| "result" // Showing the result
| "empty"`,elements:[{name:"literal",value:'"idle"'},{name:"literal",value:'"inserting"'},{name:"literal",value:'"ready"'},{name:"literal",value:'"spinning"'},{name:"literal",value:'"dropped"'},{name:"literal",value:'"opening"'},{name:"literal",value:'"result"'},{name:"literal",value:'"empty"'}]},description:""},onInsertCoin:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onSpin:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},onOpenCapsule:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},capsuleColor:{required:!0,tsType:{name:"string"},description:""},onCapsuleColorPicked:{required:!0,tsType:{name:"signature",type:"function",raw:"(color: string) => void",signature:{arguments:[{type:{name:"string"},name:"color"}],return:{name:"void"}}},description:""},remainingCount:{required:!0,tsType:{name:"number"},description:""},language:{required:!0,tsType:{name:"union",raw:'"zh" | "en"',elements:[{name:"literal",value:'"zh"'},{name:"literal",value:'"en"'}]},description:""}}};const xn={title:"Components/GachaponMachine",component:ln,parameters:{layout:"centered"},tags:["autodocs"],argTypes:{gameState:{control:"select",options:["idle","inserting","ready","spinning","dropped","opening","result","empty"],description:"Current state of the game"},capsuleColor:{control:"color",description:"Color of the dropped capsule"},remainingCount:{control:{type:"number",min:0,max:100},description:"Number of remaining fortunes"},language:{control:"radio",options:["zh","en"],description:"Display language"},onInsertCoin:{action:"coin inserted"},onSpin:{action:"spin triggered"},onOpenCapsule:{action:"capsule opened"},onCapsuleColorPicked:{action:"color picked"}},decorators:[t=>n.jsx("div",{className:"p-8",children:n.jsx(t,{})})]},u={args:{gameState:"idle",capsuleColor:"#ef4444",remainingCount:100,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()}},v={args:{...u.args,language:"en"}},S={args:{...u.args,gameState:"inserting"}},w={args:{...u.args,gameState:"ready"}},E={args:{...u.args,gameState:"spinning"}},T={args:{...u.args,gameState:"dropped"}},O={args:{...u.args,gameState:"opening"}},M={args:{...u.args,gameState:"idle",remainingCount:0}},_={args:{...u.args,remainingCount:5}},U={args:{...u.args,gameState:"dropped",capsuleColor:"#3b82f6"}},G={args:{...u.args,gameState:"dropped",capsuleColor:"#22c55e"}},k={args:{...u.args,gameState:"dropped",capsuleColor:"#a855f7"}},W={args:{gameState:"idle",capsuleColor:"#ef4444",remainingCount:100,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:a})=>{const o=f(t),s=o.getByText("æŠ•å¸å£");await r(s).toBeInTheDocument();const i=o.getByText("ç‚¹å‡»æŠ•å¸");await r(i).toBeInTheDocument();const C=o.getAllByRole("button")[0];await H.click(C),await r(a.onInsertCoin).toHaveBeenCalledTimes(1)}},K={args:{gameState:"ready",capsuleColor:"#ef4444",remainingCount:100,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:a})=>{const o=f(t),s=o.getByText("ç‚¹å‡»æ—‹è½¬");await r(s).toBeInTheDocument();const d=o.getAllByRole("button")[1];await H.click(d),await r(a.onSpin).toHaveBeenCalledTimes(1)}},N={args:{gameState:"dropped",capsuleColor:"#ef4444",remainingCount:99,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:a})=>{const s=f(t).getByText("ç‚¹å‡»æˆ–ä¸‹æ»‘æ‰“å¼€");await r(s).toBeInTheDocument();const i=t.querySelector('[class*="animate-\\[chute-exit"]');i&&(await H.click(i),await r(a.onOpenCapsule).toHaveBeenCalledTimes(1))}},j={args:{gameState:"ready",capsuleColor:"#ef4444",remainingCount:100,language:"en",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t})=>{const a=f(t),o=a.getByText("INSERT");await r(o).toBeInTheDocument();const s=a.getByText("EXIT");await r(s).toBeInTheDocument();const i=a.getByText("SPIN");await r(i).toBeInTheDocument()}},Y={args:{gameState:"idle",capsuleColor:"#ef4444",remainingCount:0,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:a})=>{const o=f(t),s=o.getByText("å·²å”®ç½„");await r(s).toBeInTheDocument();const d=o.getAllByRole("button")[0];await H.click(d),await r(a.onInsertCoin).not.toHaveBeenCalled()}},Q={args:{gameState:"spinning",capsuleColor:"#ef4444",remainingCount:50,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t})=>{const a=t.querySelector('[class*="animate-\\[spin-fast"]');await r(a).toBeInTheDocument(),await new Promise(o=>setTimeout(o,1500))}},D={args:{gameState:"dropped",capsuleColor:"#ef4444",remainingCount:99,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:a})=>{const o=t.querySelector('[class*="animate-\\[chute-exit"]');if(o){const s=new TouchEvent("touchstart",{bubbles:!0,cancelable:!0,touches:[new Touch({identifier:0,target:o,clientX:100,clientY:100})]});o.dispatchEvent(s);const i=new TouchEvent("touchend",{bubbles:!0,cancelable:!0,changedTouches:[new Touch({identifier:0,target:o,clientX:100,clientY:200})]});o.dispatchEvent(i),await r(a.onOpenCapsule).toHaveBeenCalledTimes(1)}}},F={args:{gameState:"dropped",capsuleColor:"#3b82f6",remainingCount:99,language:"zh",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:a})=>{const o=t.querySelector('[class*="animate-\\[chute-exit"]');if(o){const s=new TouchEvent("touchstart",{bubbles:!0,cancelable:!0,touches:[new Touch({identifier:0,target:o,clientX:100,clientY:100})]});o.dispatchEvent(s);const i=new TouchEvent("touchend",{bubbles:!0,cancelable:!0,changedTouches:[new Touch({identifier:0,target:o,clientX:100,clientY:130})]});o.dispatchEvent(i),await r(a.onOpenCapsule).not.toHaveBeenCalled()}}},z={args:{gameState:"dropped",capsuleColor:"#22c55e",remainingCount:99,language:"en",onInsertCoin:A(),onSpin:A(),onOpenCapsule:A(),onCapsuleColorPicked:A()},play:async({canvasElement:t,args:a})=>{const s=f(t).getByText("CLICK OR SWIPE DOWN");await r(s).toBeInTheDocument();const i=t.querySelector('[class*="animate-\\[chute-exit"]');if(i){const d=new TouchEvent("touchend",{bubbles:!0,cancelable:!0,changedTouches:[new Touch({identifier:0,target:i,clientX:100,clientY:200})]});i.dispatchEvent(d),await r(a.onOpenCapsule).not.toHaveBeenCalled()}}};var V,Z,$;u.parameters={...u.parameters,docs:{...(V=u.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    gameState: "idle",
    capsuleColor: "#ef4444",
    remainingCount: 100,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  }
}`,...($=(Z=u.parameters)==null?void 0:Z.docs)==null?void 0:$.source}}};var ee,ne,Ae;v.parameters={...v.parameters,docs:{...(ee=v.parameters)==null?void 0:ee.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    language: "en"
  }
}`,...(Ae=(ne=v.parameters)==null?void 0:ne.docs)==null?void 0:Ae.source}}};var te,oe,ae;S.parameters={...S.parameters,docs:{...(te=S.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "inserting"
  }
}`,...(ae=(oe=S.parameters)==null?void 0:oe.docs)==null?void 0:ae.source}}};var le,se,ie;w.parameters={...w.parameters,docs:{...(le=w.parameters)==null?void 0:le.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "ready"
  }
}`,...(ie=(se=w.parameters)==null?void 0:se.docs)==null?void 0:ie.source}}};var re,ce,ue;E.parameters={...E.parameters,docs:{...(re=E.parameters)==null?void 0:re.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "spinning"
  }
}`,...(ue=(ce=E.parameters)==null?void 0:ce.docs)==null?void 0:ue.source}}};var de,me,pe;T.parameters={...T.parameters,docs:{...(de=T.parameters)==null?void 0:de.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "dropped"
  }
}`,...(pe=(me=T.parameters)==null?void 0:me.docs)==null?void 0:pe.source}}};var Ce,ge,he;O.parameters={...O.parameters,docs:{...(Ce=O.parameters)==null?void 0:Ce.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "opening"
  }
}`,...(he=(ge=O.parameters)==null?void 0:ge.docs)==null?void 0:he.source}}};var be,fe,xe;M.parameters={...M.parameters,docs:{...(be=M.parameters)==null?void 0:be.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "idle",
    remainingCount: 0
  }
}`,...(xe=(fe=M.parameters)==null?void 0:fe.docs)==null?void 0:xe.source}}};var Ie,Be,ye;_.parameters={..._.parameters,docs:{...(Ie=_.parameters)==null?void 0:Ie.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    remainingCount: 5
  }
}`,...(ye=(Be=_.parameters)==null?void 0:Be.docs)==null?void 0:ye.source}}};var ve,Se,we;U.parameters={...U.parameters,docs:{...(ve=U.parameters)==null?void 0:ve.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "dropped",
    capsuleColor: "#3b82f6"
  }
}`,...(we=(Se=U.parameters)==null?void 0:Se.docs)==null?void 0:we.source}}};var Ee,Te,Oe;G.parameters={...G.parameters,docs:{...(Ee=G.parameters)==null?void 0:Ee.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "dropped",
    capsuleColor: "#22c55e"
  }
}`,...(Oe=(Te=G.parameters)==null?void 0:Te.docs)==null?void 0:Oe.source}}};var Me,_e,Ue;k.parameters={...k.parameters,docs:{...(Me=k.parameters)==null?void 0:Me.docs,source:{originalSource:`{
  args: {
    ...Idle.args,
    gameState: "dropped",
    capsuleColor: "#a855f7"
  }
}`,...(Ue=(_e=k.parameters)==null?void 0:_e.docs)==null?void 0:Ue.source}}};var Ge,ke,We;W.parameters={...W.parameters,docs:{...(Ge=W.parameters)==null?void 0:Ge.docs,source:{originalSource:`{
  args: {
    gameState: "idle",
    capsuleColor: "#ef4444",
    remainingCount: 100,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find and verify the coin slot label
    const coinSlotLabel = canvas.getByText("æŠ•å¸å£");
    await expect(coinSlotLabel).toBeInTheDocument();

    // Find the start hint
    const startHint = canvas.getByText("ç‚¹å‡»æŠ•å¸");
    await expect(startHint).toBeInTheDocument();

    // Find the coin slot button (first button in the component)
    const buttons = canvas.getAllByRole("button");
    const coinSlotButton = buttons[0]; // First button is coin slot

    // Click the coin slot
    await userEvent.click(coinSlotButton);

    // Verify onInsertCoin was called
    await expect(args.onInsertCoin).toHaveBeenCalledTimes(1);
  }
}`,...(We=(ke=W.parameters)==null?void 0:ke.docs)==null?void 0:We.source}}};var Ke,Ne,je;K.parameters={...K.parameters,docs:{...(Ke=K.parameters)==null?void 0:Ke.docs,source:{originalSource:`{
  args: {
    gameState: "ready",
    capsuleColor: "#ef4444",
    remainingCount: 100,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find and verify the spin text
    const spinText = canvas.getByText("ç‚¹å‡»æ—‹è½¬");
    await expect(spinText).toBeInTheDocument();

    // Find the spin button (second button in ready state)
    const buttons = canvas.getAllByRole("button");
    const spinButton = buttons[1]; // Second button is spin knob

    // Click the spin button
    await userEvent.click(spinButton);

    // Verify onSpin was called
    await expect(args.onSpin).toHaveBeenCalledTimes(1);
  }
}`,...(je=(Ne=K.parameters)==null?void 0:Ne.docs)==null?void 0:je.source}}};var Ye,Qe,De;N.parameters={...N.parameters,docs:{...(Ye=N.parameters)==null?void 0:Ye.docs,source:{originalSource:`{
  args: {
    gameState: "dropped",
    capsuleColor: "#ef4444",
    remainingCount: 99,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find the open hint
    const openHint = canvas.getByText("ç‚¹å‡»æˆ–ä¸‹æ»‘æ‰“å¼€");
    await expect(openHint).toBeInTheDocument();

    // Find the dropped capsule container and click it
    const capsuleContainer = canvasElement.querySelector('[class*="animate-\\\\[chute-exit"]');
    if (capsuleContainer) {
      await userEvent.click(capsuleContainer);
      // Verify onOpenCapsule was called
      await expect(args.onOpenCapsule).toHaveBeenCalledTimes(1);
    }
  }
}`,...(De=(Qe=N.parameters)==null?void 0:Qe.docs)==null?void 0:De.source}}};var Fe,ze,He;j.parameters={...j.parameters,docs:{...(Fe=j.parameters)==null?void 0:Fe.docs,source:{originalSource:`{
  args: {
    gameState: "ready",
    capsuleColor: "#ef4444",
    remainingCount: 100,
    language: "en",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);

    // Verify English labels
    const insertLabel = canvas.getByText("INSERT");
    await expect(insertLabel).toBeInTheDocument();
    const exitLabel = canvas.getByText("EXIT");
    await expect(exitLabel).toBeInTheDocument();
    const spinText = canvas.getByText("SPIN");
    await expect(spinText).toBeInTheDocument();
  }
}`,...(He=(ze=j.parameters)==null?void 0:ze.docs)==null?void 0:He.source}}};var Pe,qe,Re;Y.parameters={...Y.parameters,docs:{...(Pe=Y.parameters)==null?void 0:Pe.docs,source:{originalSource:`{
  args: {
    gameState: "idle",
    capsuleColor: "#ef4444",
    remainingCount: 0,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Verify sold out text
    const soldOutText = canvas.getByText("å·²å”®ç½„");
    await expect(soldOutText).toBeInTheDocument();

    // Find the coin slot button
    const buttons = canvas.getAllByRole("button");
    const coinSlotButton = buttons[0];

    // Click should not trigger onInsertCoin when empty
    await userEvent.click(coinSlotButton);
    await expect(args.onInsertCoin).not.toHaveBeenCalled();
  }
}`,...(Re=(qe=Y.parameters)==null?void 0:qe.docs)==null?void 0:Re.source}}};var Le,Je,Xe;Q.parameters={...Q.parameters,docs:{...(Le=Q.parameters)==null?void 0:Le.docs,source:{originalSource:`{
  args: {
    gameState: "spinning",
    capsuleColor: "#ef4444",
    remainingCount: 50,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement
  }) => {
    // Verify the spinning effect overlay is visible
    const spinningOverlay = canvasElement.querySelector('[class*="animate-\\\\[spin-fast"]');
    await expect(spinningOverlay).toBeInTheDocument();

    // Wait for capsule initialization and color picking
    // The useEffects run async, so we wait for the full spin animation cycle
    await new Promise(resolve => setTimeout(resolve, 1500));
  }
}`,...(Xe=(Je=Q.parameters)==null?void 0:Je.docs)==null?void 0:Xe.source}}};var Ve,Ze,$e;D.parameters={...D.parameters,docs:{...(Ve=D.parameters)==null?void 0:Ve.docs,source:{originalSource:`{
  args: {
    gameState: "dropped",
    capsuleColor: "#ef4444",
    remainingCount: 99,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    // Find the dropped capsule container
    const capsuleContainer = canvasElement.querySelector('[class*="animate-\\\\[chute-exit"]') as HTMLElement;
    if (capsuleContainer) {
      // Simulate touch start
      const touchStartEvent = new TouchEvent("touchstart", {
        bubbles: true,
        cancelable: true,
        touches: [new Touch({
          identifier: 0,
          target: capsuleContainer,
          clientX: 100,
          clientY: 100
        })]
      });
      capsuleContainer.dispatchEvent(touchStartEvent);

      // Simulate touch end with downward swipe (> 50px threshold)
      const touchEndEvent = new TouchEvent("touchend", {
        bubbles: true,
        cancelable: true,
        changedTouches: [new Touch({
          identifier: 0,
          target: capsuleContainer,
          clientX: 100,
          clientY: 200 // 100px down
        })]
      });
      capsuleContainer.dispatchEvent(touchEndEvent);

      // Verify onOpenCapsule was called
      await expect(args.onOpenCapsule).toHaveBeenCalledTimes(1);
    }
  }
}`,...($e=(Ze=D.parameters)==null?void 0:Ze.docs)==null?void 0:$e.source}}};var en,nn,An;F.parameters={...F.parameters,docs:{...(en=F.parameters)==null?void 0:en.docs,source:{originalSource:`{
  args: {
    gameState: "dropped",
    capsuleColor: "#3b82f6",
    remainingCount: 99,
    language: "zh",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const capsuleContainer = canvasElement.querySelector('[class*="animate-\\\\[chute-exit"]') as HTMLElement;
    if (capsuleContainer) {
      // Simulate touch start
      const touchStartEvent = new TouchEvent("touchstart", {
        bubbles: true,
        cancelable: true,
        touches: [new Touch({
          identifier: 0,
          target: capsuleContainer,
          clientX: 100,
          clientY: 100
        })]
      });
      capsuleContainer.dispatchEvent(touchStartEvent);

      // Simulate touch end with small movement (< 50px threshold)
      const touchEndEvent = new TouchEvent("touchend", {
        bubbles: true,
        cancelable: true,
        changedTouches: [new Touch({
          identifier: 0,
          target: capsuleContainer,
          clientX: 100,
          clientY: 130 // Only 30px down, should NOT trigger
        })]
      });
      capsuleContainer.dispatchEvent(touchEndEvent);

      // Verify onOpenCapsule was NOT called (swipe too small)
      await expect(args.onOpenCapsule).not.toHaveBeenCalled();
    }
  }
}`,...(An=(nn=F.parameters)==null?void 0:nn.docs)==null?void 0:An.source}}};var tn,on,an;z.parameters={...z.parameters,docs:{...(tn=z.parameters)==null?void 0:tn.docs,source:{originalSource:`{
  args: {
    gameState: "dropped",
    capsuleColor: "#22c55e",
    remainingCount: 99,
    language: "en",
    onInsertCoin: fn(),
    onSpin: fn(),
    onOpenCapsule: fn(),
    onCapsuleColorPicked: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Verify English hint
    const openHint = canvas.getByText("CLICK OR SWIPE DOWN");
    await expect(openHint).toBeInTheDocument();
    const capsuleContainer = canvasElement.querySelector('[class*="animate-\\\\[chute-exit"]') as HTMLElement;
    if (capsuleContainer) {
      // Only dispatch touchend without touchstart
      const touchEndEvent = new TouchEvent("touchend", {
        bubbles: true,
        cancelable: true,
        changedTouches: [new Touch({
          identifier: 0,
          target: capsuleContainer,
          clientX: 100,
          clientY: 200
        })]
      });
      capsuleContainer.dispatchEvent(touchEndEvent);

      // Should NOT trigger since touchStartY is null
      await expect(args.onOpenCapsule).not.toHaveBeenCalled();
    }
  }
}`,...(an=(on=z.parameters)==null?void 0:on.docs)==null?void 0:an.source}}};const In=["Idle","IdleEnglish","InsertingCoin","ReadyToSpin","Spinning","CapsuleDropped","CapsuleOpening","EmptyMachine","LowRemaining","DroppedBlueCapsule","DroppedGreenCapsule","DroppedPurpleCapsule","InteractionTestInsertCoin","InteractionTestSpin","InteractionTestOpenCapsule","InteractionTestEnglishLabels","InteractionTestEmptyMachine","InteractionTestSpinning","InteractionTestTouchSwipe","InteractionTestTouchNoSwipe","InteractionTestTouchEndOnly"];export{T as CapsuleDropped,O as CapsuleOpening,U as DroppedBlueCapsule,G as DroppedGreenCapsule,k as DroppedPurpleCapsule,M as EmptyMachine,u as Idle,v as IdleEnglish,S as InsertingCoin,Y as InteractionTestEmptyMachine,j as InteractionTestEnglishLabels,W as InteractionTestInsertCoin,N as InteractionTestOpenCapsule,K as InteractionTestSpin,Q as InteractionTestSpinning,z as InteractionTestTouchEndOnly,F as InteractionTestTouchNoSwipe,D as InteractionTestTouchSwipe,_ as LowRemaining,w as ReadyToSpin,E as Spinning,In as __namedExportsOrder,xn as default};
//# sourceMappingURL=GachaponMachine.stories-lN_g618a.js.map
