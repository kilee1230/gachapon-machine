import{j as o}from"./jsx-runtime-D_zvdyIk.js";import{f as r,w as y,e as A,u as v}from"./index-DPYJpPba.js";function n(){var t="/home/runner/work/gachapon-machine/gachapon-machine/src/components/ResultModal.tsx",a="4514db81d002cfbc0095d0ffeb5e4fdd0921e84f",s=window,e="__coverage__",c={path:"/home/runner/work/gachapon-machine/gachapon-machine/src/components/ResultModal.tsx",statementMap:{0:{start:{line:2,column:16},end:{line:13,column:1}},1:{start:{line:14,column:27},end:{line:49,column:1}},2:{start:{line:15,column:15},end:{line:15,column:32}},3:{start:{line:16,column:13},end:{line:16,column:30}},4:{start:{line:17,column:20},end:{line:17,column:50}},5:{start:{line:18,column:27},end:{line:18,column:88}},6:{start:{line:19,column:2},end:{line:48,column:7}},7:{start:{line:51,column:0},end:{line:51,column:584}}},fnMap:{0:{name:"(anonymous_0)",decl:{start:{line:14,column:27},end:{line:14,column:28}},loc:{start:{line:14,column:63},end:{line:49,column:1}},line:14}},branchMap:{0:{loc:{start:{line:17,column:20},end:{line:17,column:50}},type:"cond-expr",locations:[{start:{line:17,column:40},end:{line:17,column:43}},{start:{line:17,column:46},end:{line:17,column:50}}],line:17},1:{loc:{start:{line:18,column:27},end:{line:18,column:88}},type:"cond-expr",locations:[{start:{line:18,column:54},end:{line:18,column:75}},{start:{line:18,column:78},end:{line:18,column:88}}],line:18},2:{loc:{start:{line:26,column:8},end:{line:26,column:154}},type:"binary-expr",locations:[{start:{line:26,column:8},end:{line:26,column:15}},{start:{line:26,column:35},end:{line:26,column:154}}],line:26}},s:{0:0,1:0,2:0,3:0,4:0,5:0,6:0,7:0},f:{0:0},b:{0:[0,0],1:[0,0],2:[0,0]},inputSourceMap:{version:3,file:null,sources:["/home/runner/work/gachapon-machine/gachapon-machine/src/components/ResultModal.tsx"],names:[],mappings:"AAyCQ,cAOA,YAPA;AAhCR,MAAM,UAAU;AAAA,EACd,IAAI;AAAA,IACF,SAAS;AAAA,IACT,MAAM;AAAA,IACN,OAAO;AAAA,EACT;AAAA,EACA,IAAI;AAAA,IACF,SAAS;AAAA,IACT,MAAM;AAAA,IACN,OAAO;AAAA,EACT;AACF;AAEO,aAAM,cAA+B,CAAC,EAAE,SAAS,SAAS,SAAS,MAAM;AAE9E,QAAM,OAAO,QAAQ,QAAQ;AAC7B,QAAM,KAAK,QAAQ,QAAQ;AAI3B,QAAM,YAAY,aAAa,OAAO,MAAM;AAC5C,QAAM,CAAC,OAAO,OAAO,IAAI,KAAK,SAAS,SAAS,IAC5C,KAAK,MAAM,SAAS,IACpB,CAAC,MAAM,EAAE;AAEb,SACE,qBAAC,SAAI,WAAU,wHAGb;AAAA,yBAAC,SAAI,WAAU,qPAGb;AAAA,0BAAC,SAAI,WAAU,sHAAqH;AAAA,MAGpI,oBAAC,SAAI,WAAU,0EACV,8BAAC,SAAI,WAAU,uCAAsC,GAC1D;AAAA,MAEA,qBAAC,SAAI,WAAU,qEAEb;AAAA,4BAAC,SAAI,WAAU,yIACZ,aAAG,OACN;AAAA,QAEA,oBAAC,QAAG,WAAU,sGACX,iBACH;AAAA,QAEC,WACC,oBAAC,OAAE,WAAU,6EACV,mBACH;AAAA,QAGF,oBAAC,SAAI,WAAU,0DAAyD;AAAA,QACxE,oBAAC,OAAE,WAAU,gDAAgD,aAAG,MAAK;AAAA,SACvE;AAAA,MAGA,oBAAC,SAAI,WAAU,0CAAyC;AAAA,MAGxD;AAAA,QAAC;AAAA;AAAA,UACG,SAAS;AAAA,UACT,WAAU;AAAA,UACd;AAAA;AAAA,MAEA;AAAA,OACF;AAAA,IAGA;AAAA,MAAC;AAAA;AAAA,QACC,SAAS;AAAA,QACT,WAAU;AAAA,QAET,aAAG;AAAA;AAAA,IACN;AAAA,KAEF;AAEJ;;;"},_coverageSchema:"1a1c01bbd47fc00a2c39e90264f33305004495a9",hash:"4514db81d002cfbc0095d0ffeb5e4fdd0921e84f"},l=s[e]||(s[e]={});(!l[t]||l[t].hash!==a)&&(l[t]=c);var u=l[t];return n=function(){return u},u}n();const X=(n().s[0]++,{zh:{collect:"收入囊中",year:"2026 · 丙午年",horse:"馬"},en:{collect:"COLLECT",year:"2026 · Year of Horse",horse:"Horse"}});n().s[1]++;const L=({fortune:t,onClose:a,language:s})=>{n().f[0]++;const e=(n().s[2]++,t[s]),c=(n().s[3]++,X[s]),l=(n().s[4]++,s==="zh"?(n().b[0][0]++,"："):(n().b[0][1]++,": ")),[u,w]=(n().s[5]++,e.includes(l)?(n().b[1][0]++,e.split(l)):(n().b[1][1]++,[e,""]));return n().s[6]++,o.jsxs("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/80 backdrop-blur-sm p-4 animate-in fade-in duration-300",children:[o.jsxs("div",{className:"relative w-full max-w-[320px] max-h-[85dvh] overflow-y-auto bg-[#fff1f1] border-8 border-red-200 rounded-sm shadow-[0_0_50px_rgba(255,215,0,0.5)] transform animate-[unfold-paper_0.6s_ease-out_forwards] origin-top flex flex-col scrollbar-hide",children:[o.jsx("div",{className:"absolute inset-0 opacity-10 bg-[url('https://www.transparenttextures.com/patterns/cubes.png')] pointer-events-none"}),o.jsx("div",{className:"h-6 sm:h-8 bg-red-600 w-full shrink-0 flex items-center justify-center",children:o.jsx("div",{className:"w-16 h-1 bg-yellow-400 rounded-full"})}),o.jsxs("div",{className:"p-6 sm:p-8 flex flex-col items-center text-center relative flex-1",children:[o.jsx("div",{className:"absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2 text-8xl sm:text-9xl opacity-5 pointer-events-none select-none font-serif",children:c.horse}),o.jsx("h2",{className:"text-2xl sm:text-3xl font-black text-red-600 mb-3 sm:mb-4 tracking-wider drop-shadow-sm font-serif",children:u}),(n().b[2][0]++,w&&(n().b[2][1]++,o.jsx("p",{className:"text-base sm:text-lg text-gray-800 font-medium leading-relaxed font-serif",children:w}))),o.jsx("div",{className:"mt-6 sm:mt-8 w-16 h-1 bg-red-200 rounded-full shrink-0"}),o.jsx("p",{className:"mt-2 text-xs text-red-400 font-mono shrink-0",children:c.year})]}),o.jsx("div",{className:"h-4 bg-red-600 w-full mt-auto shrink-0"}),o.jsx("button",{onClick:a,className:"absolute top-1 right-1 sm:top-2 sm:right-2 text-white/80 hover:text-white font-bold text-xl px-2 py-1 z-10",children:"×"})]}),o.jsx("button",{onClick:a,className:"fixed bottom-8 sm:bottom-12 bg-yellow-400 hover:bg-yellow-300 text-red-900 font-bold py-3 px-8 rounded-full shadow-lg transition-transform hover:scale-105 active:scale-95 animate-pulse z-50 whitespace-nowrap border-2 border-yellow-200 uppercase",children:c.collect})]})};n().s[7]++;L.__docgenInfo={description:"",methods:[],displayName:"ResultModal",props:{fortune:{required:!0,tsType:{name:"Fortune"},description:""},onClose:{required:!0,tsType:{name:"signature",type:"function",raw:"() => void",signature:{arguments:[],return:{name:"void"}}},description:""},language:{required:!0,tsType:{name:"union",raw:'"zh" | "en"',elements:[{name:"literal",value:'"zh"'},{name:"literal",value:'"en"'}]},description:""}}};const i={id:1,zh:"马到成功：愿你在新的一年里事业腾飞，心想事成！",en:"Success at Hand: May your career soar and all wishes come true in the new year!"},Y={id:2,zh:"龙马精神",en:"Vigor and Vitality"},Z={title:"Components/ResultModal",component:L,parameters:{layout:"fullscreen"},tags:["autodocs"],argTypes:{fortune:{description:"The fortune object containing Chinese and English text"},language:{control:"radio",options:["zh","en"],description:"Display language"},onClose:{action:"closed",description:"Callback when modal is closed"}},decorators:[t=>o.jsx("div",{className:"min-h-screen bg-red-900",children:o.jsx(t,{})})]},m={args:{fortune:i,language:"zh",onClose:r()}},d={args:{fortune:i,language:"en",onClose:r()}},p={args:{fortune:Y,language:"zh",onClose:r()}},g={args:{fortune:Y,language:"en",onClose:r()}},h={args:{fortune:i,language:"zh",onClose:r()},play:async({canvasElement:t,args:a})=>{const e=y(t).getByRole("button",{name:"×"});await A(e).toBeInTheDocument(),await v.click(e),await A(a.onClose).toHaveBeenCalledTimes(1)}},C={args:{fortune:i,language:"zh",onClose:r()},play:async({canvasElement:t,args:a})=>{const e=y(t).getByRole("button",{name:"收入囊中"});await A(e).toBeInTheDocument(),await v.click(e),await A(a.onClose).toHaveBeenCalledTimes(1)}},f={args:{fortune:i,language:"en",onClose:r()},play:async({canvasElement:t,args:a})=>{const e=y(t).getByRole("button",{name:"COLLECT"});await A(e).toBeInTheDocument(),await v.click(e),await A(a.onClose).toHaveBeenCalledTimes(1)}},x={args:{fortune:i,language:"zh",onClose:r()},play:async({canvasElement:t})=>{const a=y(t),s=a.getByText("马到成功");await A(s).toBeInTheDocument();const e=a.getByText(/愿你在新的一年里/);await A(e).toBeInTheDocument();const c=a.getByText("2026 · 丙午年");await A(c).toBeInTheDocument()}};var b,B,E;m.parameters={...m.parameters,docs:{...(b=m.parameters)==null?void 0:b.docs,source:{originalSource:`{
  args: {
    fortune: mockFortune,
    language: "zh",
    onClose: fn()
  }
}`,...(E=(B=m.parameters)==null?void 0:B.docs)==null?void 0:E.source}}};var I,T,S;d.parameters={...d.parameters,docs:{...(I=d.parameters)==null?void 0:I.docs,source:{originalSource:`{
  args: {
    fortune: mockFortune,
    language: "en",
    onClose: fn()
  }
}`,...(S=(T=d.parameters)==null?void 0:T.docs)==null?void 0:S.source}}};var M,k,F;p.parameters={...p.parameters,docs:{...(M=p.parameters)==null?void 0:M.docs,source:{originalSource:`{
  args: {
    fortune: shortFortune,
    language: "zh",
    onClose: fn()
  }
}`,...(F=(k=p.parameters)==null?void 0:k.docs)==null?void 0:F.source}}};var D,O,Q;g.parameters={...g.parameters,docs:{...(D=g.parameters)==null?void 0:D.docs,source:{originalSource:`{
  args: {
    fortune: shortFortune,
    language: "en",
    onClose: fn()
  }
}`,...(Q=(O=g.parameters)==null?void 0:O.docs)==null?void 0:Q.source}}};var j,z,N;h.parameters={...h.parameters,docs:{...(j=h.parameters)==null?void 0:j.docs,source:{originalSource:`{
  args: {
    fortune: mockFortune,
    language: "zh",
    onClose: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find and click the X close button
    const closeButton = canvas.getByRole("button", {
      name: "×"
    });
    await expect(closeButton).toBeInTheDocument();
    await userEvent.click(closeButton);

    // Verify onClose was called
    await expect(args.onClose).toHaveBeenCalledTimes(1);
  }
}`,...(N=(z=h.parameters)==null?void 0:z.docs)==null?void 0:N.source}}};var U,_,W;C.parameters={...C.parameters,docs:{...(U=C.parameters)==null?void 0:U.docs,source:{originalSource:`{
  args: {
    fortune: mockFortune,
    language: "zh",
    onClose: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find and click the collect button
    const collectButton = canvas.getByRole("button", {
      name: "收入囊中"
    });
    await expect(collectButton).toBeInTheDocument();
    await userEvent.click(collectButton);

    // Verify onClose was called
    await expect(args.onClose).toHaveBeenCalledTimes(1);
  }
}`,...(W=(_=C.parameters)==null?void 0:_.docs)==null?void 0:W.source}}};var G,H,R;f.parameters={...f.parameters,docs:{...(G=f.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    fortune: mockFortune,
    language: "en",
    onClose: fn()
  },
  play: async ({
    canvasElement,
    args
  }) => {
    const canvas = within(canvasElement);

    // Find and click the collect button in English
    const collectButton = canvas.getByRole("button", {
      name: "COLLECT"
    });
    await expect(collectButton).toBeInTheDocument();
    await userEvent.click(collectButton);

    // Verify onClose was called
    await expect(args.onClose).toHaveBeenCalledTimes(1);
  }
}`,...(R=(H=f.parameters)==null?void 0:H.docs)==null?void 0:R.source}}};var V,q,K;x.parameters={...x.parameters,docs:{...(V=x.parameters)==null?void 0:V.docs,source:{originalSource:`{
  args: {
    fortune: mockFortune,
    language: "zh",
    onClose: fn()
  },
  play: async ({
    canvasElement
  }) => {
    const canvas = within(canvasElement);

    // Verify the title is displayed
    const title = canvas.getByText("马到成功");
    await expect(title).toBeInTheDocument();

    // Verify the content is displayed
    const content = canvas.getByText(/愿你在新的一年里/);
    await expect(content).toBeInTheDocument();

    // Verify year decoration
    const year = canvas.getByText("2026 · 丙午年");
    await expect(year).toBeInTheDocument();
  }
}`,...(K=(q=x.parameters)==null?void 0:q.docs)==null?void 0:K.source}}};const $=["Chinese","English","ShortFortuneChinese","ShortFortuneEnglish","InteractionTestCloseButton","InteractionTestCollectButton","InteractionTestCollectButtonEnglish","InteractionTestContentDisplay"];export{m as Chinese,d as English,h as InteractionTestCloseButton,C as InteractionTestCollectButton,f as InteractionTestCollectButtonEnglish,x as InteractionTestContentDisplay,p as ShortFortuneChinese,g as ShortFortuneEnglish,$ as __namedExportsOrder,Z as default};
//# sourceMappingURL=ResultModal.stories-DBg8mjOA.js.map
